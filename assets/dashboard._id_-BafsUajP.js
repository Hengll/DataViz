import{q as ie,v as ge,aN as ve,K as Ne,r as Z,d as L,a6 as Ce,O as me,L as xa,a7 as we,$ as ea,N as de,g as l,aO as Va,aP as aa,aQ as ye,aR as ta,aS as la,aT as _e,aU as wa,aV as na,V as T,aW as Sa,aX as Oa,C as ra,a2 as sa,a9 as $e,aY as Pa,aZ as Fe,F as W,a_ as Na,W as te,a$ as Da,b0 as Ue,b1 as oa,b2 as ia,ay as $a,p as Se,b3 as Ma,b4 as Aa,s as Ea,aa as Ha,x as Ra,b5 as za,b6 as Ia,z as _a,A as Fa,B as Ua,D as Ta,E as ja,G as Ba,H as La,ab as Wa,I as Xa,b7 as Ga,b8 as Ya,J as qa,b9 as Za,ba as Ja,a3 as Qa,_ as da,Z as ua,o as S,n as R,w as s,k as q,t as E,U,ar as X,j as f,bb as Q,f as G,l as ae,X as ca,ak as Oe,aq as Me,am as Pe,b as Ka,T as et,c as at,a0 as tt,h as Te,an as je,ap as lt,Y as nt,bc as rt,bd as st}from"./index-B5hVDhkB.js";import{c as Be,a as fe,d as ot,u as Le,b as ue,e as it}from"./index.esm-3pSbpty0.js";import{m as dt,u as ut,a as ct,V as ht,b as ft,D as mt}from"./DraggableResizable-j4ayNC-n.js";import{a as re,V as Ae,b as bt}from"./VList-yL2_wP9d.js";import{V as se,a as z}from"./VRow-yc1GfJ7R.js";import{V as Ee}from"./VSwitch-B6X8v003.js";import{V as ce}from"./VMenu-Bwf1G7M3.js";import{V as He}from"./VSelect-maMYQ5ka.js";import{V as ha}from"./VTextarea-C_bjAWCE.js";import{h as gt}from"./html2canvas.esm-DyqYn1B1.js";import{b as We}from"./route-block-B_A1xBdJ.js";import{V as xe}from"./VDivider-BRc0MtD2.js";import{V as Xe}from"./VNavigationDrawer-CDW8Jtuw.js";import{V as vt}from"./VContainer-DgMuiyj6.js";import{V as Ge}from"./VForm-DhR25vZo.js";import"./VHover-nqE-rQYB.js";import"./ssrBoot-VEClx688.js";import"./VSelectionControl-DtvB_12-.js";const pt=ie({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...ge()},"VColorPickerCanvas"),kt=ve({name:"VColorPickerCanvas",props:pt(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,a){let{emit:t}=a;const n=Ne(!1),r=Z(),o=Ne(parseFloat(e.width)),b=Ne(parseFloat(e.height)),h=Z({x:0,y:0}),v=L({get:()=>h.value,set(u){var O,M;if(!r.value)return;const{x:p,y:D}=u;h.value=u,t("update:color",{h:((O=e.color)==null?void 0:O.h)??0,s:Ce(p,0,o.value)/o.value,v:1-Ce(D,0,b.value)/b.value,a:((M=e.color)==null?void 0:M.a)??1})}}),C=L(()=>{const{x:u,y:p}=v.value,D=parseInt(e.dotSize,10)/2;return{width:me(e.dotSize),height:me(e.dotSize),transform:`translate(${me(u-D)}, ${me(p-D)})`}}),{resizeRef:A}=xa(u=>{var O;if(!((O=A.el)!=null&&O.offsetParent))return;const{width:p,height:D}=u[0].contentRect;o.value=p,b.value=D});function x(u,p,D){const{left:O,top:M,width:j,height:i}=D;v.value={x:Ce(u-O,0,j),y:Ce(p-M,0,i)}}function F(u){u.type==="mousedown"&&u.preventDefault(),!e.disabled&&(H(u),window.addEventListener("mousemove",H),window.addEventListener("mouseup",_),window.addEventListener("touchmove",H),window.addEventListener("touchend",_))}function H(u){if(e.disabled||!r.value)return;n.value=!0;const p=Va(u);x(p.clientX,p.clientY,r.value.getBoundingClientRect())}function _(){window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",_),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",_)}function I(){var M;if(!r.value)return;const u=r.value,p=u.getContext("2d");if(!p)return;const D=p.createLinearGradient(0,0,u.width,0);D.addColorStop(0,"hsla(0, 0%, 100%, 1)"),D.addColorStop(1,`hsla(${((M=e.color)==null?void 0:M.h)??0}, 100%, 50%, 1)`),p.fillStyle=D,p.fillRect(0,0,u.width,u.height);const O=p.createLinearGradient(0,0,0,u.height);O.addColorStop(0,"hsla(0, 0%, 0%, 0)"),O.addColorStop(1,"hsla(0, 0%, 0%, 1)"),p.fillStyle=O,p.fillRect(0,0,u.width,u.height)}return we(()=>{var u;return(u=e.color)==null?void 0:u.h},I,{immediate:!0}),we(()=>[o.value,b.value],(u,p)=>{I(),h.value={x:v.value.x*u[0]/p[0],y:v.value.y*u[1]/p[1]}},{flush:"post"}),we(()=>e.color,()=>{if(n.value){n.value=!1;return}h.value=e.color?{x:e.color.s*o.value,y:(1-e.color.v)*b.value}:{x:0,y:0}},{deep:!0,immediate:!0}),ea(()=>I()),de(()=>l("div",{ref:A,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:F,onTouchstartPassive:F},[l("canvas",{ref:r,width:o.value,height:b.value},null),e.color&&l("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:C.value},null)])),{}}});function Ct(e,a){if(a){const{a:t,...n}=e;return n}return e}function yt(e,a){if(a==null||typeof a=="string"){const t=aa(e);return e.a===1?t.slice(0,7):t}if(typeof a=="object"){let t;return ye(a,["r","g","b"])?t=ta(e):ye(a,["h","s","l"])?t=la(e):ye(a,["h","s","v"])&&(t=e),Ct(t,!ye(a,["a"])&&e.a===1)}return e}const he={h:0,s:0,v:0,a:1},Re={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,a)=>({...e,r:Number(a)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,a)=>({...e,g:Number(a)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,a)=>({...e,b:Number(a)})},{label:"A",max:1,step:.01,getValue:e=>{let{a}=e;return a!=null?Math.round(a*100)/100:1},getColor:(e,a)=>({...e,a:Number(a)})}],to:ta,from:_e};var Ke;const xt={...Re,inputs:(Ke=Re.inputs)==null?void 0:Ke.slice(0,3)},ze={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,a)=>({...e,h:Number(a)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,a)=>({...e,s:Number(a)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,a)=>({...e,l:Number(a)})},{label:"A",max:1,step:.01,getValue:e=>{let{a}=e;return a!=null?Math.round(a*100)/100:1},getColor:(e,a)=>({...e,a:Number(a)})}],to:la,from:wa},Vt={...ze,inputs:ze.inputs.slice(0,3)},fa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,a)=>a}],to:aa,from:na},wt={...fa,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,a)=>a}]},oe={rgb:xt,rgba:Re,hsl:Vt,hsla:ze,hex:wt,hexa:fa},St=e=>{let{label:a,...t}=e;return l("div",{class:"v-color-picker-edit__input"},[l("input",t,null),l("span",null,[a])])},Ot=ie({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(oe).includes(e)},modes:{type:Array,default:()=>Object.keys(oe),validator:e=>Array.isArray(e)&&e.every(a=>Object.keys(oe).includes(a))},...ge()},"VColorPickerEdit"),Pt=ve({name:"VColorPickerEdit",props:Ot(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,a){let{emit:t}=a;const n=L(()=>e.modes.map(o=>({...oe[o],name:o}))),r=L(()=>{var h;const o=n.value.find(v=>v.name===e.mode);if(!o)return[];const b=e.color?o.to(e.color):null;return(h=o.inputs)==null?void 0:h.map(v=>{let{getValue:C,getColor:A,...x}=v;return{...o.inputProps,...x,disabled:e.disabled,value:b&&C(b),onChange:F=>{const H=F.target;H&&t("update:color",o.from(A(b??o.to(he),H.value)))}}})});return de(()=>{var o;return l("div",{class:["v-color-picker-edit",e.class],style:e.style},[(o=r.value)==null?void 0:o.map(b=>l(St,b,null)),n.value.length>1&&l(T,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const b=n.value.findIndex(h=>h.name===e.mode);t("update:mode",n.value[(b+1)%n.value.length].name)}},null)])}),{}}}),Nt=ie({...Sa(),...dt(),...Oa(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ye=ra()({name:"VSlider",props:Nt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,a){let{slots:t,emit:n}=a;const r=Z(),{rtlClasses:o}=sa(),b=ut(e),h=$e(e,"modelValue",void 0,i=>b.roundValue(i??b.min.value)),{min:v,max:C,mousePressed:A,roundValue:x,onSliderMousedown:F,onSliderTouchstart:H,trackContainerRef:_,position:I,hasLabels:u,readonly:p}=ct({props:e,steps:b,onSliderStart:()=>{n("start",h.value)},onSliderEnd:i=>{let{value:c}=i;const d=x(c);h.value=d,n("end",d)},onSliderMove:i=>{let{value:c}=i;return h.value=x(c)},getActiveThumb:()=>{var i;return(i=r.value)==null?void 0:i.$el}}),{isFocused:D,focus:O,blur:M}=Pa(e),j=L(()=>I(h.value));return de(()=>{const i=Fe.filterProps(e),c=!!(e.label||t.label||t.prepend);return l(Fe,te({class:["v-slider",{"v-slider--has-labels":!!t["tick-label"]||u.value,"v-slider--focused":D.value,"v-slider--pressed":A.value,"v-slider--disabled":e.disabled},o.value,e.class],style:e.style},i,{focused:D.value}),{...t,prepend:c?d=>{var k,y;return l(W,null,[((k=t.label)==null?void 0:k.call(t,d))??(e.label?l(Na,{id:d.id.value,class:"v-slider__label",text:e.label},null):void 0),(y=t.prepend)==null?void 0:y.call(t,d)])}:void 0,default:d=>{let{id:k,messagesId:y}=d;return l("div",{class:"v-slider__container",onMousedown:p.value?void 0:F,onTouchstartPassive:p.value?void 0:H},[l("input",{id:k.value,name:e.name||k.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:h.value},null),l(ht,{ref:_,start:0,stop:j.value},{"tick-label":t["tick-label"]}),l(ft,{ref:r,"aria-describedby":y.value,focused:D.value,min:v.value,max:C.value,modelValue:h.value,"onUpdate:modelValue":m=>h.value=m,position:j.value,elevation:e.elevation,onFocus:O,onBlur:M,ripple:e.ripple,name:e.name},{"thumb-label":t["thumb-label"]})])}})}),{}}}),Dt=ie({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...ge()},"VColorPickerPreview"),$t=ve({name:"VColorPickerPreview",props:Dt(),emits:{"update:color":e=>!0},setup(e,a){let{emit:t}=a;const n=new AbortController;Da(()=>n.abort());async function r(){if(!Ue)return;const o=new window.EyeDropper;try{const b=await o.open({signal:n.signal}),h=na(b.sRGBHex);t("update:color",{...e.color??he,...h})}catch{}}return de(()=>{var o,b;return l("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[Ue&&l("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[l(T,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),l("div",{class:"v-color-picker-preview__dot"},[l("div",{style:{background:oa(e.color??he)}},null)]),l("div",{class:"v-color-picker-preview__sliders"},[l(Ye,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(o=e.color)==null?void 0:o.h,"onUpdate:modelValue":h=>t("update:color",{...e.color??he,h}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&l(Ye,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((b=e.color)==null?void 0:b.a)??1,"onUpdate:modelValue":h=>t("update:color",{...e.color??he,a:h}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Mt={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},At={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Et={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Ht={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Rt={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},zt={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},It={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},_t={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Ft={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Ut={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Tt={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},jt={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Bt={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Lt={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Wt={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Xt={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Gt={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Yt={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},qt={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Zt={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Jt={red:Mt,pink:At,purple:Et,deepPurple:Ht,indigo:Rt,blue:zt,lightBlue:It,cyan:_t,teal:Ft,green:Ut,lightGreen:Tt,lime:jt,yellow:Bt,amber:Lt,orange:Wt,deepOrange:Xt,brown:Gt,blueGrey:Yt,grey:qt,shades:Zt},Qt=ie({swatches:{type:Array,default:()=>Kt(Jt)},disabled:Boolean,color:Object,maxHeight:[Number,String],...ge()},"VColorPickerSwatches");function Kt(e){return Object.keys(e).map(a=>{const t=e[a];return t.base?[t.base,t.darken4,t.darken3,t.darken2,t.darken1,t.lighten1,t.lighten2,t.lighten3,t.lighten4,t.lighten5]:[t.black,t.white,t.transparent]})}const el=ve({name:"VColorPickerSwatches",props:Qt(),emits:{"update:color":e=>!0},setup(e,a){let{emit:t}=a;return de(()=>l("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:me(e.maxHeight)},e.style]},[l("div",null,[e.swatches.map(n=>l("div",{class:"v-color-picker-swatches__swatch"},[n.map(r=>{const o=ia(r),b=_e(o),h=Aa(o);return l("div",{class:"v-color-picker-swatches__color",onClick:()=>b&&t("update:color",b)},[l("div",{style:{background:h}},[e.color&&$a(e.color,b)?l(Se,{size:"x-small",icon:"$success",color:Ma(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ma=ie({color:String,...Ea(),...ge(),...Ha(),...Ra(),...za(),...Ia(),..._a(),...Fa(),...Ua()},"VSheet"),qe=ra()({name:"VSheet",props:ma(),setup(e,a){let{slots:t}=a;const{themeClasses:n}=Ta(e),{backgroundColorClasses:r,backgroundColorStyles:o}=ja(Ba(e,"color")),{borderClasses:b}=La(e),{dimensionStyles:h}=Wa(e),{elevationClasses:v}=Xa(e),{locationStyles:C}=Ga(e),{positionClasses:A}=Ya(e),{roundedClasses:x}=qa(e);return de(()=>l(e.tag,{class:["v-sheet",n.value,r.value,b.value,v.value,A.value,x.value,e.class],style:[o.value,h.value,C.value,e.style]},t)),{}}}),al=ie({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(oe).includes(e)},modes:{type:Array,default:()=>Object.keys(oe),validator:e=>Array.isArray(e)&&e.every(a=>Object.keys(oe).includes(a))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Za(ma({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),Ie=ve({name:"VColorPicker",props:al(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const a=$e(e,"mode"),t=Z(null),n=$e(e,"modelValue",void 0,v=>{if(v==null||v==="")return null;let C;try{C=_e(ia(v))}catch{return null}return C},v=>v?yt(v,e.modelValue):null),r=L(()=>n.value?{...n.value,h:t.value??n.value.h}:null),{rtlClasses:o}=sa();let b=!0;we(n,v=>{if(!b){b=!0;return}v&&(t.value=v.h)},{immediate:!0});const h=v=>{b=!1,t.value=v.h,n.value=v};return Ja(()=>{e.modes.includes(a.value)||(a.value=e.modes[0])}),Qa({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),de(()=>{const v=qe.filterProps(e);return l(qe,te({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",o.value,e.class],style:[{"--v-color-picker-color-hsv":oa({...r.value??he,a:1})},e.style]},v,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&l(kt,{key:"canvas",color:r.value,"onUpdate:color":h,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&l("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&l($t,{key:"preview",color:r.value,"onUpdate:color":h,hideAlpha:!a.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&l(Pt,{key:"edit",modes:e.modes,mode:a.value,"onUpdate:mode":C=>a.value=C,color:r.value,"onUpdate:color":h,disabled:e.disabled},null)]),e.showSwatches&&l(el,{key:"swatches",color:r.value,"onUpdate:color":h,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});var tl=Object.defineProperty,ll=(e,a,t)=>a in e?tl(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,be=(e,a,t)=>ll(e,typeof a!="symbol"?a+"":a,t);const Ze={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},Je=(e,a,t)=>e.replaceAll(a,"").replace(t,".").replace("..",".").replace(/[^.\d]/g,""),Qe=(e,a,t)=>{var n;return new Intl.NumberFormat(((n=t.number)==null?void 0:n.locale)??"en",{minimumFractionDigits:e,maximumFractionDigits:a,roundingMode:"trunc"})},nl=(e,a=!0,t)=>{var n,r,o,b;const h=((n=t.number)==null?void 0:n.unsigned)!==!0&&e.startsWith("-")?"-":"",v=((r=t.number)==null?void 0:r.fraction)??0;let C=Qe(0,v,t);const A=C.formatToParts(1000.12),x=((o=A.find(u=>u.type==="group"))==null?void 0:o.value)??" ",F=((b=A.find(u=>u.type==="decimal"))==null?void 0:b.value)??".",H=Je(e,x,F);if(Number.isNaN(parseFloat(H)))return h;const _=H.split(".");if(_[1]!=null&&_[1].length>=1){const u=_[1].length<=v?_[1].length:v;C=Qe(u,v,t)}let I=C.format(parseFloat(H));return a?v>0&&H.endsWith(".")&&!H.slice(0,-1).includes(".")&&(I+=F):I=Je(I,x,F),h+I};class rl{constructor(a={}){be(this,"opts",{}),be(this,"memo",new Map);const t={...a};if(t.tokens!=null){t.tokens=t.tokensReplace?{...t.tokens}:{...Ze,...t.tokens};for(const n of Object.values(t.tokens))typeof n.pattern=="string"&&(n.pattern=new RegExp(n.pattern))}else t.tokens=Ze;Array.isArray(t.mask)&&(t.mask.length>1?t.mask=[...t.mask].sort((n,r)=>n.length-r.length):t.mask=t.mask[0]??""),t.mask===""&&(t.mask=null),this.opts=t}masked(a){return this.process(String(a),this.findMask(String(a)))}unmasked(a){return this.process(String(a),this.findMask(String(a)),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(a){const t=this.findMask(String(a));if(this.opts.mask==null||t==null)return!1;const n=this.process(String(a),t).length;return typeof this.opts.mask=="string"?n>=this.opts.mask.length:n>=t.length}findMask(a){const t=this.opts.mask;if(t==null)return null;if(typeof t=="string")return t;if(typeof t=="function")return t(a);const n=this.process(a,t.slice(-1).pop()??"",!1);return t.find(r=>this.process(a,r,!1).length>=n.length)??""}escapeMask(a){const t=[],n=[];return a.split("").forEach((r,o)=>{r==="!"&&a[o-1]!=="!"?n.push(o-n.length):t.push(r)}),{mask:t.join(""),escaped:n}}process(a,t,n=!0){if(this.opts.number!=null)return nl(a,n,this.opts);if(t==null)return a;const r=`v=${a},mr=${t},m=${n?1:0}`;if(this.memo.has(r))return this.memo.get(r);const{mask:o,escaped:b}=this.escapeMask(t),h=[],v=this.opts.tokens!=null?this.opts.tokens:{},C=this.isReversed()?-1:1,A=this.isReversed()?"unshift":"push",x=this.isReversed()?0:o.length-1,F=this.isReversed()?()=>u>-1&&p>-1:()=>u<o.length&&p<a.length,H=O=>!this.isReversed()&&O<=x||this.isReversed()&&O>=x;let _,I=-1,u=this.isReversed()?o.length-1:0,p=this.isReversed()?a.length-1:0,D=!1;for(;F();){const O=o.charAt(u),M=v[O],j=(M==null?void 0:M.transform)!=null?M.transform(a.charAt(p)):a.charAt(p);if(!b.includes(u)&&M!=null?(j.match(M.pattern)!=null?(h[A](j),M.repeated?(I===-1?I=u:u===x&&u!==I&&(u=I-C),x===I&&(u-=C)):M.multiple&&(D=!0,u-=C),u+=C):M.multiple?D&&(u+=C,p-=C,D=!1):j===_?_=void 0:M.optional&&(u+=C,p-=C),p+=C):(n&&!this.isEager()&&h[A](O),j===O&&!this.isEager()?p+=C:_=O,this.isEager()||(u+=C)),this.isEager())for(;H(u)&&(v[o.charAt(u)]==null||b.includes(u));){if(n){if(h[A](o.charAt(u)),a.charAt(p)===o.charAt(u)){u+=C,p+=C;continue}}else o.charAt(u)===a.charAt(p)&&(p+=C);u+=C}}return this.memo.set(r,h.join("")),this.memo.get(r)}}const ba=e=>JSON.parse(e.replaceAll("'",'"')),sl=(e,a={})=>{const t={...a};e.dataset.maska!=null&&e.dataset.maska!==""&&(t.mask=ol(e.dataset.maska)),e.dataset.maskaEager!=null&&(t.eager=Ve(e.dataset.maskaEager)),e.dataset.maskaReversed!=null&&(t.reversed=Ve(e.dataset.maskaReversed)),e.dataset.maskaTokensReplace!=null&&(t.tokensReplace=Ve(e.dataset.maskaTokensReplace)),e.dataset.maskaTokens!=null&&(t.tokens=il(e.dataset.maskaTokens));const n={};return e.dataset.maskaNumberLocale!=null&&(n.locale=e.dataset.maskaNumberLocale),e.dataset.maskaNumberFraction!=null&&(n.fraction=parseInt(e.dataset.maskaNumberFraction)),e.dataset.maskaNumberUnsigned!=null&&(n.unsigned=Ve(e.dataset.maskaNumberUnsigned)),(e.dataset.maskaNumber!=null||Object.values(n).length>0)&&(t.number=n),t},Ve=e=>e!==""?!!JSON.parse(e):!0,ol=e=>e.startsWith("[")&&e.endsWith("]")?ba(e):e,il=e=>{if(e.startsWith("{")&&e.endsWith("}"))return ba(e);const a={};return e.split("|").forEach(t=>{const n=t.split(":");a[n[0]]={pattern:new RegExp(n[1]),optional:n[2]==="optional",multiple:n[2]==="multiple",repeated:n[2]==="repeated"}}),a};class dl{constructor(a,t={}){be(this,"items",new Map),be(this,"eventAbortController"),be(this,"onInput",n=>{if(n instanceof CustomEvent&&n.type==="input"&&!n.isTrusted&&!n.bubbles)return;const r=n.target,o=this.items.get(r),b="inputType"in n&&n.inputType.startsWith("delete"),h=o.isEager(),v=b&&h&&o.unmasked(r.value)===""?"":r.value;this.fixCursor(r,b,()=>this.setValue(r,v))}),this.options=t,this.eventAbortController=new AbortController,this.init(this.getInputs(a))}update(a={}){this.options={...a},this.init(Array.from(this.items.keys()))}updateValue(a){a.value!==""&&a.value!==this.processInput(a).masked&&this.setValue(a,a.value)}destroy(){this.eventAbortController.abort(),this.items.clear()}init(a){const t=this.getOptions(this.options);for(const n of a){if(!this.items.has(n)){const{signal:o}=this.eventAbortController;n.addEventListener("input",this.onInput,{capture:!0,signal:o})}const r=new rl(sl(n,t));this.items.set(n,r),queueMicrotask(()=>this.updateValue(n)),n.selectionStart===null&&r.isEager()&&console.warn("Maska: input of `%s` type is not supported",n.type)}}getInputs(a){return typeof a=="string"?Array.from(document.querySelectorAll(a)):"length"in a?Array.from(a):[a]}getOptions(a){const{onMaska:t,preProcess:n,postProcess:r,...o}=a;return o}fixCursor(a,t,n){const r=a.selectionStart,o=a.value;if(n(),r===null||r===o.length&&!t)return;const b=a.value,h=o.slice(0,r),v=b.slice(0,r),C=this.processInput(a,h).unmasked,A=this.processInput(a,v).unmasked;let x=r;h!==v&&(x+=t?b.length-o.length:C.length-A.length),a.setSelectionRange(x,x)}setValue(a,t){const n=this.processInput(a,t);a.value=n.masked,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(r=>r(n)):this.options.onMaska(n)),a.dispatchEvent(new CustomEvent("maska",{detail:n})),a.dispatchEvent(new CustomEvent("input",{detail:n.masked}))}processInput(a,t){const n=this.items.get(a);let r=t??a.value;this.options.preProcess!=null&&(r=this.options.preProcess(r));let o=n.masked(r);return this.options.postProcess!=null&&(o=this.options.postProcess(o)),{masked:o,unmasked:n.unmasked(r),completed:n.completed(r)}}}const De=new WeakMap,ul=(e,a)=>{if(e.arg==null||e.instance==null)return;const t="setup"in e.instance.$.type;e.arg in e.instance?e.instance[e.arg]=a:t&&console.warn("Maska: please expose `%s` using defineExpose",e.arg)},K=(e,a)=>{var t;const n=e instanceof HTMLInputElement?e:e.querySelector("input");if(n==null||(n==null?void 0:n.type)==="file")return;let r={};if(a.value!=null&&(r=typeof a.value=="string"?{mask:a.value}:{...a.value}),a.arg!=null){const o=b=>{const h=a.modifiers.unmasked?b.unmasked:a.modifiers.completed?b.completed:b.masked;ul(a,h)};r.onMaska=r.onMaska==null?o:Array.isArray(r.onMaska)?[...r.onMaska,o]:[r.onMaska,o]}De.has(n)?(t=De.get(n))==null||t.update(r):De.set(n,new dl(n,r))},cl={class:"mb-6"},hl={class:"mb-6 mt-3"},fl={__name:"EditorBar",props:{indexOfChart:{type:Number,default:0},gridWidth:{type:Number,default:0},gridHight:{type:Number,default:0},gridSizeDivisorX:{type:Number,default:0},gridSizeDivisorY:{type:Number,default:0}},emits:["close"],setup(e){const a=ua(),t=e,n=L(()=>({mask:"##",eager:!0,preProcess:i=>{const c=parseInt(i,10);return isNaN(c)?0:c>t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartWidth?t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartWidth:c<0?0:c}})),r=L(()=>({mask:"##",eager:!0,preProcess:i=>{const c=parseInt(i,10);return isNaN(c)?0:c>t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartHeight?t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartHeight:c<0?0:c}})),o=L(()=>({mask:"##",eager:!0,preProcess:i=>{const c=parseInt(i,10);return isNaN(c)?0:c>t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartPosX?t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartPosX:c<0?0:c}})),b=L(()=>({mask:"##",eager:!0,preProcess:i=>{const c=parseInt(i,10);return isNaN(c)?0:c>t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartPosY?t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartPosY:c<0?0:c}})),h=L(()=>({mask:"XDX",eager:!0,tokens:{X:{pattern:/[0-9]/,multiple:!0},D:{pattern:/[.]/}}})),v=L(()=>({mask:i=>i==="mixed"?"MMMMM":"XDX",eager:!0,tokens:{X:{pattern:/[0-9]/,multiple:!0},D:{pattern:/[.]/},M:{pattern:/[a-zA-Z]/}}})),C=L(()=>({mask:"!#HHHHHHHH",eager:!0,tokens:{H:{pattern:/[0-9a-fA-F]/}},preProcess:i=>i===""?"#":i})),A=L(()=>({mask:i=>i==="mixed"?"MMMMM":"!#HHHHHHHH",eager:!0,tokens:{H:{pattern:/[0-9a-fA-F]/},M:{pattern:/[a-zA-Z]/}},preProcess:i=>i===""?"#":i})),x=Z(0),F=(i,c,d)=>{a.resizeChart(i,c>10?c:10,d>10?d:10),x.value++},H=(i,c,d,k)=>{k<0?a.editChartOption(i,c,d,0):k>1e3?a.editChartOption(i,c,d,1e3):a.editChartOption(i,c,d,k),x.value++},_=(i,c,d,k)=>{(k.length===7||k.length===9)&&a.editChartOption(i,c,d,k),x.value++},I=(i,c,d,k,y)=>{y<0?a.editChartSubOption(i,c,d,k,0):y>1e3?a.editChartSubOption(i,c,d,k,1e3):a.editChartSubOption(i,c,d,k,y),x.value++},u=(i,c,d,k)=>{const y=Object.keys(a.dashboard.charts[t.indexOfChart].chartOption[c][d]);if(k<0)for(let m=0;m<y.length;m++)a.editChartSubOption(i,c,d,y[m],0);else if(k>1e3)for(let m=0;m<y.length;m++)a.editChartSubOption(i,c,d,y[m],1e3);else for(let m=0;m<y.length;m++)a.editChartSubOption(i,c,d,y[m],k);x.value++},p=(i,c,d,k,y)=>{(y.length===7||y.length===9)&&a.editChartSubOption(i,c,d,k,y),x.value++},D=(i,c,d,k)=>{const y=Object.keys(a.dashboard.charts[t.indexOfChart].chartOption[c][d]);if(k.length===7||k.length===9)for(let m=0;m<y.length;m++)a.editChartSubOption(i,c,d,y[m],k);x.value++},O=["top","left","bottom","right"],M=["start","center","end"],j=i=>new Set(Object.values(i)).size===1;return(i,c)=>(S(),R(Ae,null,{default:s(()=>[l(re,{class:"d-flex justify-end"},{default:s(()=>[l(T,{variant:"text",icon:"mdi-close",class:"close-btn border",onClick:c[0]||(c[0]=d=>i.$emit("close"))})]),_:1}),l(re,null,{default:s(()=>[q("h3",cl,E(i.$t("editDrawer.customOptions")),1),l(se,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t("editDrawer.chartTitle")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[l(X,{density:"compact",variant:"outlined","model-value":f(a).dashboard.charts[e.indexOfChart].chartTitle,onChange:c[1]||(c[1]=d=>f(a).editChartTitle(e.indexOfChart,d.target.value))},null,8,["model-value"])]),_:1})]),_:1}),l(se,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t("editDrawer.chartPosX")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[Q(l(X,{suffix:"grid",density:"compact",variant:"outlined",placeholder:"grid","model-value":f(a).dashboard.charts[e.indexOfChart].chartPosX,onChange:c[2]||(c[2]=d=>f(a).moveChart(e.indexOfChart,d.target.value*1,f(a).dashboard.charts[e.indexOfChart].chartPosY))},null,8,["model-value"]),[[f(K),n.value]])]),_:1})]),_:1}),l(se,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t("editDrawer.chartPosY")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[Q(l(X,{density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":f(a).dashboard.charts[e.indexOfChart].chartPosY,onChange:c[3]||(c[3]=d=>f(a).moveChart(e.indexOfChart,f(a).dashboard.charts[e.indexOfChart].chartPosX,d.target.value*1))},null,8,["model-value"]),[[f(K),r.value]])]),_:1})]),_:1}),l(se,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t("editDrawer.chartWidth")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[Q((S(),R(X,{key:x.value,density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":f(a).dashboard.charts[e.indexOfChart].chartWidth,onChange:c[4]||(c[4]=d=>F(e.indexOfChart,d.target.value*1,f(a).dashboard.charts[e.indexOfChart].chartHeight))},null,8,["model-value"])),[[f(K),o.value]])]),_:1})]),_:1}),l(se,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t("editDrawer.chartHeight")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[Q((S(),R(X,{key:x.value,density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":f(a).dashboard.charts[e.indexOfChart].chartHeight,onChange:c[5]||(c[5]=d=>F(e.indexOfChart,f(a).dashboard.charts[e.indexOfChart].chartWidth,d.target.value*1))},null,8,["model-value"])),[[f(K),b.value]])]),_:1})]),_:1})]),_:1}),(S(!0),G(W,null,ae(f(a).dashboard.charts[e.indexOfChart].chartOption,(d,k)=>(S(),R(re,{key:k,class:"border"},{default:s(()=>[q("h3",hl,E(i.$t(`editDrawer.${k}`)),1),(S(!0),G(W,null,ae(d,(y,m)=>(S(),R(se,{key:m},{default:s(()=>[typeof y!="object"?(S(),G(W,{key:0},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t(`editDrawer.${m}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0"},{default:s(()=>[typeof y=="boolean"?(S(),R(Ee,{key:0,modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,color:"primary",label:`${d[m]}`,"hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"])):typeof y=="number"?Q((S(),R(X,{key:1,"model-value":d[m],density:"compact",variant:"outlined",placeholder:"grid",onChange:V=>H(e.indexOfChart,k,m,V.target.value*1)},null,8,["model-value","onChange"])),[[f(K),h.value]]):y[0]==="#"?Q((S(),R(X,{key:x.value,"model-value":d[m],class:"pa-0 ma-0",variant:"outlined",density:"compact",placeholder:"#00000000",onChange:V=>_(e.indexOfChart,k,m,V.target.value)},{"append-inner":s(()=>[l(ce,{"close-on-content-click":!1},{activator:s(({props:V})=>[q("div",te({style:{backgroundColor:d[m],cursor:"pointer",height:"1.5rem",width:"1.5rem"},ref_for:!0},V),null,16)]),default:s(()=>[l(Ie,{modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,flat:"",modes:["rgba","hsla","hexa"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[f(K),C.value]]):m==="indexAxis"?(S(),R(Ee,{key:3,modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,color:"primary",label:`${d[m]}-axis`,"true-value":"x","false-value":"y","hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"])):O.includes(y)?(S(),R(He,{key:4,modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,variant:"outlined",density:"compact",items:O},null,8,["modelValue","onUpdate:modelValue"])):M.includes(y)?(S(),R(He,{key:5,modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,variant:"outlined",density:"compact",items:M},null,8,["modelValue","onUpdate:modelValue"])):m==="innerText"?(S(),R(ha,{key:6,modelValue:d[m],"onUpdate:modelValue":V=>d[m]=V,class:"text-body border mb-7",spellcheck:"false",variant:"plain","auto-grow":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])):ca("",!0)]),_:2},1024)],64)):Array.isArray(y)?(S(),G(W,{key:1},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t(`editDrawer.${m}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0 d-flex"},{default:s(()=>[Q((S(),R(X,{key:x.value,density:"compact",variant:"outlined","model-value":j(y)?Object.values(y)[0]:"mixed",onChange:V=>D(e.indexOfChart,k,m,V.target.value)},{"append-inner":s(()=>[l(ce,{"close-on-content-click":!1,width:"200"},{activator:s(({props:V})=>[l(T,te({icon:"mdi-arrow-expand-all",variant:"text",ref_for:!0},V,{class:"expend-btn border"}),null,16)]),default:s(()=>[l(Oe,null,{default:s(()=>[l(Me,{class:"d-flex align-center justify-space-between"},{default:s(()=>[U(E(i.$t(`editDrawer.${m}`))+" ",1),l(T,{class:"expend-btn border",variant:"text",icon:"mdi-plus",onClick:V=>f(a).insertChartSubOption(e.indexOfChart,k,m)},null,8,["onClick"])]),_:2},1024),l(Pe,null,{default:s(()=>[(S(!0),G(W,null,ae(y,(V,Y)=>Q((S(),R(X,{key:x.value+Y,"model-value":V,class:"pa-0 ma-0",variant:"outlined",density:"compact",placeholder:"#00000000",onChange:J=>p(e.indexOfChart,k,m,Y,J.target.value)},{"prepend-inner":s(()=>[l(T,{class:"expend-btn border",variant:"text",icon:"mdi-minus",onClick:J=>f(a).removeChartSubOption(e.indexOfChart,k,m,Y)},null,8,["onClick"])]),"append-inner":s(()=>[l(ce,{"close-on-content-click":!1},{activator:s(({props:J})=>[q("div",te({style:{backgroundColor:V,cursor:"pointer",height:"1.5rem",width:"1.5rem"},ref_for:!0},J),null,16)]),default:s(()=>[l(Ie,{modelValue:y[Y],"onUpdate:modelValue":J=>y[Y]=J,flat:"",modes:["rgba","hsla","hexa"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[f(K),C.value]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[f(K),A.value]])]),_:2},1024)],64)):(S(),G(W,{key:2},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[U(E(i.$t(`editDrawer.${m}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0 d-flex"},{default:s(()=>[Q((S(),R(X,{density:"compact",variant:"outlined","model-value":j(y)?Object.values(y)[0]:"mixed",onChange:V=>u(e.indexOfChart,k,m,V.target.value*1)},{"append-inner":s(()=>[l(ce,{"close-on-content-click":!1},{activator:s(({props:V})=>[l(T,te({icon:"mdi-arrow-expand-all",variant:"text",ref_for:!0},V,{class:"expend-btn border"}),null,16)]),default:s(()=>[l(Oe,null,{default:s(()=>[l(Me,null,{default:s(()=>[U(E(i.$t(`editDrawer.${m}`)),1)]),_:2},1024),l(Pe,{class:"d-flex"},{default:s(()=>[(S(!0),G(W,null,ae(y,(V,Y)=>Q((S(),R(X,{key:V,"model-value":V,variant:"outlined",class:"mx-1",label:i.$t(`editDrawer.${Y}`),density:"compact",onChange:J=>I(e.indexOfChart,k,m,Y,J.target.value*1)},null,8,["model-value","label","onChange"])),[[f(K),h.value]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[f(K),v.value]])]),_:2},1024)],64))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}))}},ml=da(fl,[["__scopeId","data-v-d8080650"]]),bl=["title"],gl=["title"],vl={class:"text-center"},pl={class:"mx-1"},kl={class:"outer-area"},ga={__name:"dashboard.[id]",setup(e,{expose:a}){const t=ua(),{apiAuth:n}=nt(),{t:r}=Ka(),o=et(),{xs:b}=at(),h=Z({indexOfChart:null,isOpen:!1}),v=g=>{h.value.indexOfChart=g,h.value.isOpen=!0},C=()=>{h.value.isOpen=!1,h.value.indexOfChart=null},A=Z([{text:"dataChart",menus:[{isOpen:!1,text:"barChart",icon:"mdi-chart-bar",useVarsNum:2,label:["x-axis","y-axis"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"histogram",icon:"mdi-chart-histogram",useVarsNum:2,label:["x-axis","y-axis"],hint:["chooseContinuous","chooseContinuous"]},{isOpen:!1,text:"lineChart",icon:"mdi-chart-line",useVarsNum:2,label:["x-axis","y-axis"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"areaChart",icon:"mdi-chart-areaspline-variant",useVarsNum:2,label:["x-axis","y-axis"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"scatterChart",icon:"mdi-chart-scatter-plot",useVarsNum:2,label:["x-axis","y-axis"],hint:["chooseContinuous","chooseContinuous"]},{isOpen:!1,text:"bubbleChart",icon:"mdi-chart-bubble",useVarsNum:3,label:["x-axis","y-axis","size-value"],hint:["chooseContinuous","chooseContinuous","chooseContinuous"]},{isOpen:!1,text:"pieChart",icon:"mdi-chart-pie",useVarsNum:2,label:["Group(Category)","Value(Sum)"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"donutChart",icon:"mdi-chart-donut",useVarsNum:2,label:["Group(Category)","Value(Sum)"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"polarAreaChart",icon:"mdi-chart-donut-variant",useVarsNum:2,label:["Group(Category)","Value(Sum)"],hint:["chooseCategorical","chooseContinuous"]},{isOpen:!1,text:"radarChart",icon:"mdi-radar",useVarsNum:2,label:["Group(Category)","Value(Sum)"],hint:["chooseCategorical","chooseContinuous"]}]},{text:"statistics",menus:[{isOpen:!1,text:"mean",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"median",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"mode",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"range",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"IQR",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"variance",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]},{isOpen:!1,text:"standardDeviation",icon:"",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]}]},{text:"dataFilter",menus:[{isOpen:!1,text:"categoryFilter",icon:"mdi-filter-settings",useVarsNum:1,label:["no-label"],hint:["chooseCategorical"]},{isOpen:!1,text:"rangeFilter",icon:"mdi-filter",useVarsNum:1,label:["no-label"],hint:["chooseContinuous"]}]},{text:"textAndShape",menus:[{isOpen:!1,text:"textbox",icon:"mdi-text",useVarsNum:0},{isOpen:!1,text:"rectangle",icon:"mdi-rectangle",useVarsNum:0},{isOpen:!1,text:"circle",icon:"mdi-circle",useVarsNum:0},{isOpen:!1,text:"triangle",icon:"mdi-triangle",useVarsNum:0}]}]),x=Z(!1),F=()=>{D.value.value=t.dashboard.dashboardName,O.value.value=t.dashboard.dashboardInfo,M.value.value=t.dashboard.public,x.value=!0},H=()=>{x.value=!1,p()},_=Be({dashboardName:fe().required(r("api.dashboardNameRequired")),dashboardInfo:fe(),public:ot()}),{handleSubmit:I,isSubmitting:u,resetForm:p}=Le({validationSchema:_}),D=ue("dashboardName"),O=ue("dashboardInfo"),M=ue("public"),j=I(async g=>{var P,w;try{const N=new FormData;N.append("dashboardName",g.dashboardName),N.append("dashboardInfo",g.dashboardInfo),N.append("public",g.public),await n.patch(`/dashboard/${t.dashboard._id}`,N),t.dashboard.dashboardName=g.dashboardName,t.dashboard.dashboardInfo=g.dashboardInfo,t.dashboard.public=g.public,o({text:r("editDashboard.saveSuccess"),snackbarProps:{color:"green"}}),H()}catch(N){console.log(N),o({text:r("api."+((w=(P=N==null?void 0:N.response)==null?void 0:P.data)==null?void 0:w.message)||"unknownError"),snackbarProps:{color:"red"}})}}),i=Be({category:fe().required(r("api.chartCategoryRequired")).oneOf(["barChart","histogram","lineChart","areaChart","scatterChart","bubbleChart","pieChart","donutChart","polarAreaChart","radarChart","mean","median","mode","range","IQR","variance","standardDeviation","categoryFilter","rangeFilter","textbox","rectangle","circle","triangle"],r("api.chartCategoryInvalid")),chartTitle:fe(),useVariables:it().of(fe().notOneOf([""],r("api.useVariablesRequired")))}),{handleSubmit:c,isSubmitting:d,resetForm:k}=Le({validationSchema:i,initialValues:{useVariables:["","",""]}}),y=ue("category"),m=ue("chartTitle"),V=ue("useVariables"),Y=async(g,P,w)=>{y.value.value=g;for(let N=A.value[P].menus[w].useVarsNum;N<V.value.value.length;N++)V.value.value[N]="notUse";m.value.value||(m.value.value=g);try{await c(N=>{const $={category:N.category,chartTitle:N.chartTitle,chartPosX:0,chartPosY:0,chartWidth:ne.x/2,chartHeight:ne.y/2,useVariables:[].concat(N.useVariables)};t.newChart($),A.value[P].menus[w].isOpen=!1,k()})()}catch(N){console.log(N)}},J=async()=>{var g,P;t.saveLoading=!0;try{(await gt(le.value,{allowTaint:!0,logging:!1,scale:1})).toBlob(async N=>{const $=new File([N],"thumbnail.png",{type:"image/png"}),ee=new FormData;ee.append("image",$),ee.append("backgroundColor",t.dashboard.backgroundColor),ee.append("charts",JSON.stringify(t.dashboard.charts)),await n.patch(`/dashboard/${t.dashboard._id}`,ee),o({text:r("editDashboard.saveSuccess"),snackbarProps:{color:"green"}}),t.chartsChanged=!1,t.saveLoading=!1})}catch(w){console.log(w),o({text:r("api."+((P=(g=w==null?void 0:w.response)==null?void 0:g.data)==null?void 0:P.message)||"unknownError"),snackbarProps:{color:"red"}}),t.saveLoading=!1}},va=g=>{C(),t.deleteChart(g)},le=Z(null),pe=Z(0),ke=Z(0),pa=new ResizeObserver(g=>{for(const P of g)pe.value=P.contentBoxSize[0].inlineSize,ke.value=P.contentBoxSize[0].blockSize}),ka=()=>{const g=le.value.offsetWidth+200;g>2560||(le.value.style.width=g+"px")},Ca=()=>{const g=le.value.offsetWidth-200;g<200||(le.value.style.width=g+"px")};ea(()=>{pa.observe(le.value,{box:"content-box"})});const ne={x:96,y:54};return a({area:le}),(g,P)=>(S(),G(W,null,[l(Xe,{modelValue:f(t).drawer,"onUpdate:modelValue":P[1]||(P[1]=w=>f(t).drawer=w),width:"200",permanent:!1},{default:s(()=>[l(Ae,null,{default:s(()=>[l(re),l(xe),(S(!0),G(W,null,ae(A.value,(w,N)=>(S(),R(bt,{key:w,class:"text-center",fluid:""},{activator:s(({props:$})=>[l(re,te({class:"user-select-none",ref_for:!0},$,{title:g.$t("editDashboard."+w.text)}),null,16,["title"]),l(xe)]),default:s(()=>[w.text!=="textAndShape"?(S(!0),G(W,{key:0},ae(w.menus,($,ee)=>(S(),R(ce,{key:$,modelValue:$.isOpen,"onUpdate:modelValue":B=>$.isOpen=B,"close-on-content-click":!1,location:"end"},{activator:s(({props:B})=>[l(re,te({"append-icon":"mdi-plus",class:"user-select-none",ref_for:!0},B,{onClick:f(k)}),rt({default:s(()=>[q("p",{title:g.$t("editDashboard."+$.text),style:{"white-space":"nowrap"}},E(g.$t("editDashboard."+$.text)),9,bl)]),_:2},[$.icon?{name:"prepend",fn:s(()=>[l(Se,{icon:$.icon,color:"primary"},null,8,["icon"])]),key:"0"}:void 0]),1040,["onClick"])]),default:s(()=>[l(Ge,{disabled:f(d),onSubmit:Te(B=>Y($.text,N,ee),["prevent"])},{default:s(()=>[l(Oe,{width:"300"},{default:s(()=>[l(Ae,null,{default:s(()=>[l(re,{title:g.$t("editDashboard."+$.text),"prepend-icon":$.icon},null,8,["title","prepend-icon"])]),_:2},1024),l(xe),l(Pe,null,{default:s(()=>[l(X,{modelValue:f(m).value.value,"onUpdate:modelValue":P[0]||(P[0]=B=>f(m).value.value=B),label:g.$t("editDashboard.chartTitle"),"error-messages":f(m).errorMessage.value,variant:"outlined"},null,8,["modelValue","label","error-messages"]),(S(!0),G(W,null,ae($.useVarsNum,B=>(S(),R(He,{key:B,modelValue:f(V).value.value[B-1],"onUpdate:modelValue":ya=>f(V).value.value[B-1]=ya,class:"mb-3",hint:g.$t("editDashboard."+$.hint[B-1]),"persistent-hint":"",label:g.$t("editDashboard."+$.label[B-1]),items:f(t).dataVariables,"error-messages":f(V).errorMessage.value,variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","hint","label","items","error-messages"]))),128))]),_:2},1024),l(je,null,{default:s(()=>[l(st),l(T,{variant:"text",onClick:B=>$.isOpen=!1},{default:s(()=>[U(E(g.$t("editDashboard.cancel")),1)]),_:2},1032,["onClick"]),l(T,{type:"submit",color:"primary",variant:"flat",loading:f(d)},{default:s(()=>[U(E(g.$t("editDashboard.new")),1)]),_:1},8,["loading"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled","onSubmit"])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128)):(S(!0),G(W,{key:1},ae(w.menus,($,ee)=>(S(),R(re,{key:ee,"append-icon":"mdi-plus",class:"user-select-none",disabled:f(d),onClick:B=>Y($.text,N,ee)},{prepend:s(()=>[l(Se,{icon:$.icon,color:"primary"},null,8,["icon"])]),default:s(()=>[q("p",{title:g.$t("editDashboard."+$.text),style:{"white-space":"nowrap"}},E(g.$t("editDashboard."+$.text)),9,gl)]),_:2},1032,["disabled","onClick"]))),128)),l(xe)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),l(Xe,{modelValue:h.value.isOpen,"onUpdate:modelValue":P[2]||(P[2]=w=>h.value.isOpen=w),permanent:!f(b),location:"right",width:"300"},{default:s(()=>[h.value.isOpen&&f(t).dashboard.charts?(S(),R(ml,{key:0,"index-of-chart":h.value.indexOfChart,"grid-width":pe.value/ne.x,"grid-height":ke.value/ne.y,"grid-size-divisor-x":ne.x,"grid-size-divisor-y":ne.y,onClose:C},null,8,["index-of-chart","grid-width","grid-height","grid-size-divisor-x","grid-size-divisor-y"])):ca("",!0)]),_:1},8,["modelValue","permanent"]),l(vt,{fluid:""},{default:s(()=>[l(se,null,{default:s(()=>[l(z,{cols:"12"},{default:s(()=>[q("h1",vl,E(g.$t("editor.editDashboard")),1)]),_:1}),l(z,{cols:"5"},{default:s(()=>[l(T,{"prepend-icon":"mdi-pencil",onClick:F},{default:s(()=>[U(E(g.$t("editDashboard.edit")),1)]),_:1})]),_:1}),l(z,{cols:"4",class:"ms-auto d-flex justify-end align-center"},{default:s(()=>[l(ce,{"close-on-content-click":!1},{activator:s(({props:w})=>[l(T,te({variant:"flat",color:f(t).dashboard.backgroundColor},w,{class:"d-flex align-center justify-center",style:{backgroundColor:f(t).dashboard.backgroundColor,cursor:"pointer",width:"120px",height:"36px",outline:"1px solid rgba(0, 0, 0, 0.12)",marginRight:"1rem",borderRadius:"2px",fontSize:"14px"}}),{default:s(()=>[U(E(g.$t("editDashboard.backgroundColor")),1)]),_:2},1040,["color","style"])]),default:s(()=>[l(Ie,{modelValue:f(t).dashboard.backgroundColor,"onUpdate:modelValue":P[3]||(P[3]=w=>f(t).dashboard.backgroundColor=w),flat:"",modes:["rgb","hsl","hex"]},null,8,["modelValue"])]),_:1}),l(T,{color:"primary",loading:f(t).saveLoading,onClick:J},{default:s(()=>[U(E(g.$t("editDashboard.save")),1)]),_:1},8,["loading"])]),_:1}),l(z,{cols:"12",class:"d-flex justify-end align-center"},{default:s(()=>[q("span",pl,E(g.$t("explore.size"))+" : ",1),l(T,{class:"mx-1",density:"compact",icon:"mdi-minus",onClick:Ca}),l(T,{class:"mx-1",density:"compact",icon:"mdi-plus",onClick:ka})]),_:1}),l(z,{cols:"12"},{default:s(()=>[q("div",kl,[q("div",{id:"area",ref_key:"area",ref:le,style:tt({backgroundColor:f(t).dashboard.backgroundColor})},[(S(!0),G(W,null,ae(f(t).dashboard.charts,(w,N)=>(S(),R(mt,{key:w,"container-width":pe.value,"container-height":ke.value,"index-of-chart":N,"grid-width":pe.value/ne.x,"grid-height":ke.value/ne.y,"read-only":!1,onEdit:$=>v(N),onDelete:$=>va(N)},null,8,["container-width","container-height","index-of-chart","grid-width","grid-height","onEdit","onDelete"]))),128))],4)])]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:x.value,"onUpdate:modelValue":P[7]||(P[7]=w=>x.value=w),width:"600"},{default:s(()=>[l(Ge,{disabled:f(u),onSubmit:Te(f(j),["prevent"])},{default:s(()=>[l(Oe,null,{default:s(()=>[l(Me,{class:"d-flex align-center"},{default:s(()=>[l(Se,{icon:"mdi-pencil",class:"me-1"}),q("span",null,E(g.$t("editDashboard.edit")),1)]),_:1}),l(Pe,null,{default:s(()=>[l(X,{modelValue:f(D).value.value,"onUpdate:modelValue":P[4]||(P[4]=w=>f(D).value.value=w),"error-messages":f(D).errorMessage.value,label:g.$t("editDashboard.dashboardName"),variant:"outlined"},null,8,["modelValue","error-messages","label"]),l(ha,{modelValue:f(O).value.value,"onUpdate:modelValue":P[5]||(P[5]=w=>f(O).value.value=w),"error-messages":f(O).errorMessage.value,label:g.$t("editDashboard.dashboardInfo"),variant:"outlined"},null,8,["modelValue","error-messages","label"]),l(Ee,{modelValue:f(M).value.value,"onUpdate:modelValue":P[6]||(P[6]=w=>f(M).value.value=w),color:"primary",label:g.$t("editDashboard.public")},null,8,["modelValue","label"])]),_:1}),l(je,null,{default:s(()=>[l(T,{onClick:H},{default:s(()=>[U(E(g.$t("editDashboard.cancel")),1)]),_:1}),l(T,{color:"primary",variant:"flat",type:"submit",loading:f(u)},{default:s(()=>[U(E(g.$t("editDashboard.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1},8,["modelValue"])],64))}};typeof We=="function"&&We(ga);const _l=da(ga,[["__scopeId","data-v-f770e713"]]);export{_l as default};
