import{q as oe,v as be,aM as ge,K as Ne,r as G,d as j,a6 as Ce,O as fe,L as ka,a7 as we,$ as ea,N as ie,g as l,aN as Ca,aO as aa,aP as ye,aQ as ta,aR as la,aS as Fe,aT as ya,aU as ra,V as B,aV as Va,aW as xa,C as na,a2 as sa,a9 as Me,aX as wa,aY as Ue,F as L,aZ as Sa,W as te,a_ as Oa,a$ as _e,b0 as oa,b1 as ia,ax as Pa,p as Se,b2 as Na,b3 as Da,s as Ma,aa as $a,x as Aa,b4 as Ea,b5 as Ha,z as Ra,A as Ia,B as za,D as Fa,E as Ua,G as _a,H as Ta,ab as ja,I as Ba,b6 as La,b7 as Wa,J as Xa,b8 as Ya,b9 as Ga,a3 as qa,_ as da,Z as ua,o as S,n as R,w as s,k as ee,t as E,U as _,aq as X,j as m,ba as J,f as Y,l as ae,X as ca,aj as Oe,ap as $e,al as Pe,b as Za,T as Ja,a0 as Qa,h as Te,am as je,ao as Ka,Y as et,bb as at,bc as tt}from"./index-BUTHwpjN.js";import{c as Be,a as he,d as lt,u as Le,b as de,e as rt}from"./index.esm-B_Ys8nZm.js";import{m as nt,u as st,a as ot,V as it,b as dt,D as ut}from"./DraggableResizable-CyHrPujg.js";import{a as re,V as Ae,b as ct}from"./VList-NSSDVeA-.js";import{V as ne,a as z}from"./VRow-C5QvmfXu.js";import{V as Ee}from"./VSwitch--NxEdo5r.js";import{V as ue}from"./VMenu-DKbUKrGy.js";import{V as He}from"./VSelect-Bu6ule9D.js";import{V as ha}from"./VTextarea-DhPYnbG4.js";import{h as ht}from"./html2canvas.esm-DyqYn1B1.js";import{b as We}from"./route-block-B_A1xBdJ.js";import{V as Ve}from"./VDivider-DlUxsG1_.js";import{V as Xe}from"./VNavigationDrawer-D0ZBV4Vb.js";import{V as ft}from"./VContainer-BsgLAKB0.js";import{V as Ye}from"./VForm-BBn0xIH5.js";import"./VHover-BUwhBwp1.js";import"./ssrBoot-CWqfeFFn.js";import"./VSelectionControl-B26NLFtB.js";const mt=oe({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...be()},"VColorPickerCanvas"),bt=ge({name:"VColorPickerCanvas",props:mt(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,a){let{emit:t}=a;const r=Ne(!1),n=G(),o=Ne(parseFloat(e.width)),h=Ne(parseFloat(e.height)),b=G({x:0,y:0}),g=j({get:()=>b.value,set(c){var O,A;if(!n.value)return;const{x:v,y:D}=c;b.value=c,t("update:color",{h:((O=e.color)==null?void 0:O.h)??0,s:Ce(v,0,o.value)/o.value,v:1-Ce(D,0,h.value)/h.value,a:((A=e.color)==null?void 0:A.a)??1})}}),k=j(()=>{const{x:c,y:v}=g.value,D=parseInt(e.dotSize,10)/2;return{width:fe(e.dotSize),height:fe(e.dotSize),transform:`translate(${fe(c-D)}, ${fe(v-D)})`}}),{resizeRef:M}=ka(c=>{var O;if(!((O=M.el)!=null&&O.offsetParent))return;const{width:v,height:D}=c[0].contentRect;o.value=v,h.value=D});function V(c,v,D){const{left:O,top:A,width:T,height:i}=D;g.value={x:Ce(c-O,0,T),y:Ce(v-A,0,i)}}function U(c){c.type==="mousedown"&&c.preventDefault(),!e.disabled&&(H(c),window.addEventListener("mousemove",H),window.addEventListener("mouseup",F),window.addEventListener("touchmove",H),window.addEventListener("touchend",F))}function H(c){if(e.disabled||!n.value)return;r.value=!0;const v=Ca(c);V(v.clientX,v.clientY,n.value.getBoundingClientRect())}function F(){window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",F),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",F)}function I(){var A;if(!n.value)return;const c=n.value,v=c.getContext("2d");if(!v)return;const D=v.createLinearGradient(0,0,c.width,0);D.addColorStop(0,"hsla(0, 0%, 100%, 1)"),D.addColorStop(1,`hsla(${((A=e.color)==null?void 0:A.h)??0}, 100%, 50%, 1)`),v.fillStyle=D,v.fillRect(0,0,c.width,c.height);const O=v.createLinearGradient(0,0,0,c.height);O.addColorStop(0,"hsla(0, 0%, 0%, 0)"),O.addColorStop(1,"hsla(0, 0%, 0%, 1)"),v.fillStyle=O,v.fillRect(0,0,c.width,c.height)}return we(()=>{var c;return(c=e.color)==null?void 0:c.h},I,{immediate:!0}),we(()=>[o.value,h.value],(c,v)=>{I(),b.value={x:g.value.x*c[0]/v[0],y:g.value.y*c[1]/v[1]}},{flush:"post"}),we(()=>e.color,()=>{if(r.value){r.value=!1;return}b.value=e.color?{x:e.color.s*o.value,y:(1-e.color.v)*h.value}:{x:0,y:0}},{deep:!0,immediate:!0}),ea(()=>I()),ie(()=>l("div",{ref:M,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:U,onTouchstartPassive:U},[l("canvas",{ref:n,width:o.value,height:h.value},null),e.color&&l("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:k.value},null)])),{}}});function gt(e,a){if(a){const{a:t,...r}=e;return r}return e}function vt(e,a){if(a==null||typeof a=="string"){const t=aa(e);return e.a===1?t.slice(0,7):t}if(typeof a=="object"){let t;return ye(a,["r","g","b"])?t=ta(e):ye(a,["h","s","l"])?t=la(e):ye(a,["h","s","v"])&&(t=e),gt(t,!ye(a,["a"])&&e.a===1)}return e}const ce={h:0,s:0,v:0,a:1},Re={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,a)=>({...e,r:Number(a)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,a)=>({...e,g:Number(a)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,a)=>({...e,b:Number(a)})},{label:"A",max:1,step:.01,getValue:e=>{let{a}=e;return a!=null?Math.round(a*100)/100:1},getColor:(e,a)=>({...e,a:Number(a)})}],to:ta,from:Fe};var Ke;const pt={...Re,inputs:(Ke=Re.inputs)==null?void 0:Ke.slice(0,3)},Ie={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,a)=>({...e,h:Number(a)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,a)=>({...e,s:Number(a)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,a)=>({...e,l:Number(a)})},{label:"A",max:1,step:.01,getValue:e=>{let{a}=e;return a!=null?Math.round(a*100)/100:1},getColor:(e,a)=>({...e,a:Number(a)})}],to:la,from:ya},kt={...Ie,inputs:Ie.inputs.slice(0,3)},fa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,a)=>a}],to:aa,from:ra},Ct={...fa,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,a)=>a}]},se={rgb:pt,rgba:Re,hsl:kt,hsla:Ie,hex:Ct,hexa:fa},yt=e=>{let{label:a,...t}=e;return l("div",{class:"v-color-picker-edit__input"},[l("input",t,null),l("span",null,[a])])},Vt=oe({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(se).includes(e)},modes:{type:Array,default:()=>Object.keys(se),validator:e=>Array.isArray(e)&&e.every(a=>Object.keys(se).includes(a))},...be()},"VColorPickerEdit"),xt=ge({name:"VColorPickerEdit",props:Vt(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,a){let{emit:t}=a;const r=j(()=>e.modes.map(o=>({...se[o],name:o}))),n=j(()=>{var b;const o=r.value.find(g=>g.name===e.mode);if(!o)return[];const h=e.color?o.to(e.color):null;return(b=o.inputs)==null?void 0:b.map(g=>{let{getValue:k,getColor:M,...V}=g;return{...o.inputProps,...V,disabled:e.disabled,value:h&&k(h),onChange:U=>{const H=U.target;H&&t("update:color",o.from(M(h??o.to(ce),H.value)))}}})});return ie(()=>{var o;return l("div",{class:["v-color-picker-edit",e.class],style:e.style},[(o=n.value)==null?void 0:o.map(h=>l(yt,h,null)),r.value.length>1&&l(B,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const h=r.value.findIndex(b=>b.name===e.mode);t("update:mode",r.value[(h+1)%r.value.length].name)}},null)])}),{}}}),wt=oe({...Va(),...nt(),...xa(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ge=na()({name:"VSlider",props:wt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,a){let{slots:t,emit:r}=a;const n=G(),{rtlClasses:o}=sa(),h=st(e),b=Me(e,"modelValue",void 0,i=>h.roundValue(i??h.min.value)),{min:g,max:k,mousePressed:M,roundValue:V,onSliderMousedown:U,onSliderTouchstart:H,trackContainerRef:F,position:I,hasLabels:c,readonly:v}=ot({props:e,steps:h,onSliderStart:()=>{r("start",b.value)},onSliderEnd:i=>{let{value:d}=i;const u=V(d);b.value=u,r("end",u)},onSliderMove:i=>{let{value:d}=i;return b.value=V(d)},getActiveThumb:()=>{var i;return(i=n.value)==null?void 0:i.$el}}),{isFocused:D,focus:O,blur:A}=wa(e),T=j(()=>I(b.value));return ie(()=>{const i=Ue.filterProps(e),d=!!(e.label||t.label||t.prepend);return l(Ue,te({class:["v-slider",{"v-slider--has-labels":!!t["tick-label"]||c.value,"v-slider--focused":D.value,"v-slider--pressed":M.value,"v-slider--disabled":e.disabled},o.value,e.class],style:e.style},i,{focused:D.value}),{...t,prepend:d?u=>{var C,p;return l(L,null,[((C=t.label)==null?void 0:C.call(t,u))??(e.label?l(Sa,{id:u.id.value,class:"v-slider__label",text:e.label},null):void 0),(p=t.prepend)==null?void 0:p.call(t,u)])}:void 0,default:u=>{let{id:C,messagesId:p}=u;return l("div",{class:"v-slider__container",onMousedown:v.value?void 0:U,onTouchstartPassive:v.value?void 0:H},[l("input",{id:C.value,name:e.name||C.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:b.value},null),l(it,{ref:F,start:0,stop:T.value},{"tick-label":t["tick-label"]}),l(dt,{ref:n,"aria-describedby":p.value,focused:D.value,min:g.value,max:k.value,modelValue:b.value,"onUpdate:modelValue":f=>b.value=f,position:T.value,elevation:e.elevation,onFocus:O,onBlur:A,ripple:e.ripple,name:e.name},{"thumb-label":t["thumb-label"]})])}})}),{}}}),St=oe({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...be()},"VColorPickerPreview"),Ot=ge({name:"VColorPickerPreview",props:St(),emits:{"update:color":e=>!0},setup(e,a){let{emit:t}=a;const r=new AbortController;Oa(()=>r.abort());async function n(){if(!_e)return;const o=new window.EyeDropper;try{const h=await o.open({signal:r.signal}),b=ra(h.sRGBHex);t("update:color",{...e.color??ce,...b})}catch{}}return ie(()=>{var o,h;return l("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[_e&&l("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[l(B,{onClick:n,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),l("div",{class:"v-color-picker-preview__dot"},[l("div",{style:{background:oa(e.color??ce)}},null)]),l("div",{class:"v-color-picker-preview__sliders"},[l(Ge,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(o=e.color)==null?void 0:o.h,"onUpdate:modelValue":b=>t("update:color",{...e.color??ce,h:b}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&l(Ge,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((h=e.color)==null?void 0:h.a)??1,"onUpdate:modelValue":b=>t("update:color",{...e.color??ce,a:b}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Pt={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Nt={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Dt={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Mt={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},$t={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},At={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Et={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Ht={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Rt={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},It={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},zt={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Ft={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Ut={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},_t={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Tt={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},jt={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Bt={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Lt={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Wt={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Xt={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Yt={red:Pt,pink:Nt,purple:Dt,deepPurple:Mt,indigo:$t,blue:At,lightBlue:Et,cyan:Ht,teal:Rt,green:It,lightGreen:zt,lime:Ft,yellow:Ut,amber:_t,orange:Tt,deepOrange:jt,brown:Bt,blueGrey:Lt,grey:Wt,shades:Xt},Gt=oe({swatches:{type:Array,default:()=>qt(Yt)},disabled:Boolean,color:Object,maxHeight:[Number,String],...be()},"VColorPickerSwatches");function qt(e){return Object.keys(e).map(a=>{const t=e[a];return t.base?[t.base,t.darken4,t.darken3,t.darken2,t.darken1,t.lighten1,t.lighten2,t.lighten3,t.lighten4,t.lighten5]:[t.black,t.white,t.transparent]})}const Zt=ge({name:"VColorPickerSwatches",props:Gt(),emits:{"update:color":e=>!0},setup(e,a){let{emit:t}=a;return ie(()=>l("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:fe(e.maxHeight)},e.style]},[l("div",null,[e.swatches.map(r=>l("div",{class:"v-color-picker-swatches__swatch"},[r.map(n=>{const o=ia(n),h=Fe(o),b=Da(o);return l("div",{class:"v-color-picker-swatches__color",onClick:()=>h&&t("update:color",h)},[l("div",{style:{background:b}},[e.color&&Pa(e.color,h)?l(Se,{size:"x-small",icon:"$success",color:Na(n,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ma=oe({color:String,...Ma(),...be(),...$a(),...Aa(),...Ea(),...Ha(),...Ra(),...Ia(),...za()},"VSheet"),qe=na()({name:"VSheet",props:ma(),setup(e,a){let{slots:t}=a;const{themeClasses:r}=Fa(e),{backgroundColorClasses:n,backgroundColorStyles:o}=Ua(_a(e,"color")),{borderClasses:h}=Ta(e),{dimensionStyles:b}=ja(e),{elevationClasses:g}=Ba(e),{locationStyles:k}=La(e),{positionClasses:M}=Wa(e),{roundedClasses:V}=Xa(e);return ie(()=>l(e.tag,{class:["v-sheet",r.value,n.value,h.value,g.value,M.value,V.value,e.class],style:[o.value,b.value,k.value,e.style]},t)),{}}}),Jt=oe({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(se).includes(e)},modes:{type:Array,default:()=>Object.keys(se),validator:e=>Array.isArray(e)&&e.every(a=>Object.keys(se).includes(a))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Ya(ma({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),ze=ge({name:"VColorPicker",props:Jt(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const a=Me(e,"mode"),t=G(null),r=Me(e,"modelValue",void 0,g=>{if(g==null||g==="")return null;let k;try{k=Fe(ia(g))}catch{return null}return k},g=>g?vt(g,e.modelValue):null),n=j(()=>r.value?{...r.value,h:t.value??r.value.h}:null),{rtlClasses:o}=sa();let h=!0;we(r,g=>{if(!h){h=!0;return}g&&(t.value=g.h)},{immediate:!0});const b=g=>{h=!1,t.value=g.h,r.value=g};return Ga(()=>{e.modes.includes(a.value)||(a.value=e.modes[0])}),qa({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ie(()=>{const g=qe.filterProps(e);return l(qe,te({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",o.value,e.class],style:[{"--v-color-picker-color-hsv":oa({...n.value??ce,a:1})},e.style]},g,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&l(bt,{key:"canvas",color:n.value,"onUpdate:color":b,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&l("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&l(Ot,{key:"preview",color:n.value,"onUpdate:color":b,hideAlpha:!a.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&l(xt,{key:"edit",modes:e.modes,mode:a.value,"onUpdate:mode":k=>a.value=k,color:n.value,"onUpdate:color":b,disabled:e.disabled},null)]),e.showSwatches&&l(Zt,{key:"swatches",color:n.value,"onUpdate:color":b,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});var Qt=Object.defineProperty,Kt=(e,a,t)=>a in e?Qt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,me=(e,a,t)=>Kt(e,typeof a!="symbol"?a+"":a,t);const Ze={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},Je=(e,a,t)=>e.replaceAll(a,"").replace(t,".").replace("..",".").replace(/[^.\d]/g,""),Qe=(e,a,t)=>{var r;return new Intl.NumberFormat(((r=t.number)==null?void 0:r.locale)??"en",{minimumFractionDigits:e,maximumFractionDigits:a,roundingMode:"trunc"})},el=(e,a=!0,t)=>{var r,n,o,h;const b=((r=t.number)==null?void 0:r.unsigned)!==!0&&e.startsWith("-")?"-":"",g=((n=t.number)==null?void 0:n.fraction)??0;let k=Qe(0,g,t);const M=k.formatToParts(1000.12),V=((o=M.find(c=>c.type==="group"))==null?void 0:o.value)??" ",U=((h=M.find(c=>c.type==="decimal"))==null?void 0:h.value)??".",H=Je(e,V,U);if(Number.isNaN(parseFloat(H)))return b;const F=H.split(".");if(F[1]!=null&&F[1].length>=1){const c=F[1].length<=g?F[1].length:g;k=Qe(c,g,t)}let I=k.format(parseFloat(H));return a?g>0&&H.endsWith(".")&&!H.slice(0,-1).includes(".")&&(I+=U):I=Je(I,V,U),b+I};class al{constructor(a={}){me(this,"opts",{}),me(this,"memo",new Map);const t={...a};if(t.tokens!=null){t.tokens=t.tokensReplace?{...t.tokens}:{...Ze,...t.tokens};for(const r of Object.values(t.tokens))typeof r.pattern=="string"&&(r.pattern=new RegExp(r.pattern))}else t.tokens=Ze;Array.isArray(t.mask)&&(t.mask.length>1?t.mask=[...t.mask].sort((r,n)=>r.length-n.length):t.mask=t.mask[0]??""),t.mask===""&&(t.mask=null),this.opts=t}masked(a){return this.process(String(a),this.findMask(String(a)))}unmasked(a){return this.process(String(a),this.findMask(String(a)),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(a){const t=this.findMask(String(a));if(this.opts.mask==null||t==null)return!1;const r=this.process(String(a),t).length;return typeof this.opts.mask=="string"?r>=this.opts.mask.length:r>=t.length}findMask(a){const t=this.opts.mask;if(t==null)return null;if(typeof t=="string")return t;if(typeof t=="function")return t(a);const r=this.process(a,t.slice(-1).pop()??"",!1);return t.find(n=>this.process(a,n,!1).length>=r.length)??""}escapeMask(a){const t=[],r=[];return a.split("").forEach((n,o)=>{n==="!"&&a[o-1]!=="!"?r.push(o-r.length):t.push(n)}),{mask:t.join(""),escaped:r}}process(a,t,r=!0){if(this.opts.number!=null)return el(a,r,this.opts);if(t==null)return a;const n=`v=${a},mr=${t},m=${r?1:0}`;if(this.memo.has(n))return this.memo.get(n);const{mask:o,escaped:h}=this.escapeMask(t),b=[],g=this.opts.tokens!=null?this.opts.tokens:{},k=this.isReversed()?-1:1,M=this.isReversed()?"unshift":"push",V=this.isReversed()?0:o.length-1,U=this.isReversed()?()=>c>-1&&v>-1:()=>c<o.length&&v<a.length,H=O=>!this.isReversed()&&O<=V||this.isReversed()&&O>=V;let F,I=-1,c=this.isReversed()?o.length-1:0,v=this.isReversed()?a.length-1:0,D=!1;for(;U();){const O=o.charAt(c),A=g[O],T=(A==null?void 0:A.transform)!=null?A.transform(a.charAt(v)):a.charAt(v);if(!h.includes(c)&&A!=null?(T.match(A.pattern)!=null?(b[M](T),A.repeated?(I===-1?I=c:c===V&&c!==I&&(c=I-k),V===I&&(c-=k)):A.multiple&&(D=!0,c-=k),c+=k):A.multiple?D&&(c+=k,v-=k,D=!1):T===F?F=void 0:A.optional&&(c+=k,v-=k),v+=k):(r&&!this.isEager()&&b[M](O),T===O&&!this.isEager()?v+=k:F=O,this.isEager()||(c+=k)),this.isEager())for(;H(c)&&(g[o.charAt(c)]==null||h.includes(c));){if(r){if(b[M](o.charAt(c)),a.charAt(v)===o.charAt(c)){c+=k,v+=k;continue}}else o.charAt(c)===a.charAt(v)&&(v+=k);c+=k}}return this.memo.set(n,b.join("")),this.memo.get(n)}}const ba=e=>JSON.parse(e.replaceAll("'",'"')),tl=(e,a={})=>{const t={...a};e.dataset.maska!=null&&e.dataset.maska!==""&&(t.mask=ll(e.dataset.maska)),e.dataset.maskaEager!=null&&(t.eager=xe(e.dataset.maskaEager)),e.dataset.maskaReversed!=null&&(t.reversed=xe(e.dataset.maskaReversed)),e.dataset.maskaTokensReplace!=null&&(t.tokensReplace=xe(e.dataset.maskaTokensReplace)),e.dataset.maskaTokens!=null&&(t.tokens=rl(e.dataset.maskaTokens));const r={};return e.dataset.maskaNumberLocale!=null&&(r.locale=e.dataset.maskaNumberLocale),e.dataset.maskaNumberFraction!=null&&(r.fraction=parseInt(e.dataset.maskaNumberFraction)),e.dataset.maskaNumberUnsigned!=null&&(r.unsigned=xe(e.dataset.maskaNumberUnsigned)),(e.dataset.maskaNumber!=null||Object.values(r).length>0)&&(t.number=r),t},xe=e=>e!==""?!!JSON.parse(e):!0,ll=e=>e.startsWith("[")&&e.endsWith("]")?ba(e):e,rl=e=>{if(e.startsWith("{")&&e.endsWith("}"))return ba(e);const a={};return e.split("|").forEach(t=>{const r=t.split(":");a[r[0]]={pattern:new RegExp(r[1]),optional:r[2]==="optional",multiple:r[2]==="multiple",repeated:r[2]==="repeated"}}),a};class nl{constructor(a,t={}){me(this,"items",new Map),me(this,"eventAbortController"),me(this,"onInput",r=>{if(r instanceof CustomEvent&&r.type==="input"&&!r.isTrusted&&!r.bubbles)return;const n=r.target,o=this.items.get(n),h="inputType"in r&&r.inputType.startsWith("delete"),b=o.isEager(),g=h&&b&&o.unmasked(n.value)===""?"":n.value;this.fixCursor(n,h,()=>this.setValue(n,g))}),this.options=t,this.eventAbortController=new AbortController,this.init(this.getInputs(a))}update(a={}){this.options={...a},this.init(Array.from(this.items.keys()))}updateValue(a){a.value!==""&&a.value!==this.processInput(a).masked&&this.setValue(a,a.value)}destroy(){this.eventAbortController.abort(),this.items.clear()}init(a){const t=this.getOptions(this.options);for(const r of a){if(!this.items.has(r)){const{signal:o}=this.eventAbortController;r.addEventListener("input",this.onInput,{capture:!0,signal:o})}const n=new al(tl(r,t));this.items.set(r,n),queueMicrotask(()=>this.updateValue(r)),r.selectionStart===null&&n.isEager()&&console.warn("Maska: input of `%s` type is not supported",r.type)}}getInputs(a){return typeof a=="string"?Array.from(document.querySelectorAll(a)):"length"in a?Array.from(a):[a]}getOptions(a){const{onMaska:t,preProcess:r,postProcess:n,...o}=a;return o}fixCursor(a,t,r){const n=a.selectionStart,o=a.value;if(r(),n===null||n===o.length&&!t)return;const h=a.value,b=o.slice(0,n),g=h.slice(0,n),k=this.processInput(a,b).unmasked,M=this.processInput(a,g).unmasked;let V=n;b!==g&&(V+=t?h.length-o.length:k.length-M.length),a.setSelectionRange(V,V)}setValue(a,t){const r=this.processInput(a,t);a.value=r.masked,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(n=>n(r)):this.options.onMaska(r)),a.dispatchEvent(new CustomEvent("maska",{detail:r})),a.dispatchEvent(new CustomEvent("input",{detail:r.masked}))}processInput(a,t){const r=this.items.get(a);let n=t??a.value;this.options.preProcess!=null&&(n=this.options.preProcess(n));let o=r.masked(n);return this.options.postProcess!=null&&(o=this.options.postProcess(o)),{masked:o,unmasked:r.unmasked(n),completed:r.completed(n)}}}const De=new WeakMap,sl=(e,a)=>{if(e.arg==null||e.instance==null)return;const t="setup"in e.instance.$.type;e.arg in e.instance?e.instance[e.arg]=a:t&&console.warn("Maska: please expose `%s` using defineExpose",e.arg)},Q=(e,a)=>{var t;const r=e instanceof HTMLInputElement?e:e.querySelector("input");if(r==null||(r==null?void 0:r.type)==="file")return;let n={};if(a.value!=null&&(n=typeof a.value=="string"?{mask:a.value}:{...a.value}),a.arg!=null){const o=h=>{const b=a.modifiers.unmasked?h.unmasked:a.modifiers.completed?h.completed:h.masked;sl(a,b)};n.onMaska=n.onMaska==null?o:Array.isArray(n.onMaska)?[...n.onMaska,o]:[n.onMaska,o]}De.has(r)?(t=De.get(r))==null||t.update(n):De.set(r,new nl(r,n))},ol={class:"mb-6"},il={class:"mb-6 mt-3"},dl={__name:"EditorBar",props:{indexOfChart:{type:Number,default:0},gridWidth:{type:Number,default:0},gridHight:{type:Number,default:0},gridSizeDivisorX:{type:Number,default:0},gridSizeDivisorY:{type:Number,default:0}},emits:["close"],setup(e){const a=ua(),t=e,r=j(()=>({mask:"##",eager:!0,preProcess:i=>{const d=parseInt(i,10);return isNaN(d)?0:d>t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartWidth?t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartWidth:d<0?0:d}})),n=j(()=>({mask:"##",eager:!0,preProcess:i=>{const d=parseInt(i,10);return isNaN(d)?0:d>t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartHeight?t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartHeight:d<0?0:d}})),o=j(()=>({mask:"##",eager:!0,preProcess:i=>{const d=parseInt(i,10);return isNaN(d)?0:d>t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartPosX?t.gridSizeDivisorX-a.dashboard.charts[t.indexOfChart].chartPosX:d<0?0:d}})),h=j(()=>({mask:"##",eager:!0,preProcess:i=>{const d=parseInt(i,10);return isNaN(d)?0:d>t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartPosY?t.gridSizeDivisorY-a.dashboard.charts[t.indexOfChart].chartPosY:d<0?0:d}})),b=j(()=>({mask:"XDX",eager:!0,tokens:{X:{pattern:/[0-9]/,multiple:!0},D:{pattern:/[.]/}}})),g=j(()=>({mask:i=>i==="mixed"?"MMMMM":"XDX",eager:!0,tokens:{X:{pattern:/[0-9]/,multiple:!0},D:{pattern:/[.]/},M:{pattern:/[a-zA-Z]/}}})),k=j(()=>({mask:"!#HHHHHHHH",eager:!0,tokens:{H:{pattern:/[0-9a-fA-F]/}},preProcess:i=>i===""?"#":i})),M=j(()=>({mask:i=>i==="mixed"?"MMMMM":"!#HHHHHHHH",eager:!0,tokens:{H:{pattern:/[0-9a-fA-F]/},M:{pattern:/[a-zA-Z]/}},preProcess:i=>i===""?"#":i})),V=G(0),U=(i,d,u)=>{a.resizeChart(i,d>10?d:10,u>10?u:10),V.value++},H=(i,d,u,C)=>{C<0?a.editChartOption(i,d,u,0):C>1e3?a.editChartOption(i,d,u,1e3):a.editChartOption(i,d,u,C),V.value++},F=(i,d,u,C)=>{(C.length===7||C.length===9)&&a.editChartOption(i,d,u,C),V.value++},I=(i,d,u,C,p)=>{p<0?a.editChartSubOption(i,d,u,C,0):p>1e3?a.editChartSubOption(i,d,u,C,1e3):a.editChartSubOption(i,d,u,C,p),V.value++},c=(i,d,u,C)=>{const p=Object.keys(a.dashboard.charts[t.indexOfChart].chartOption[d][u]);if(C<0)for(let f=0;f<p.length;f++)a.editChartSubOption(i,d,u,p[f],0);else if(C>1e3)for(let f=0;f<p.length;f++)a.editChartSubOption(i,d,u,p[f],1e3);else for(let f=0;f<p.length;f++)a.editChartSubOption(i,d,u,p[f],C);V.value++},v=(i,d,u,C,p)=>{(p.length===7||p.length===9)&&a.editChartSubOption(i,d,u,C,p),V.value++},D=(i,d,u,C)=>{const p=Object.keys(a.dashboard.charts[t.indexOfChart].chartOption[d][u]);if(C.length===7||C.length===9)for(let f=0;f<p.length;f++)a.editChartSubOption(i,d,u,p[f],C);V.value++},O=["top","left","bottom","right"],A=["start","center","end"],T=i=>new Set(Object.values(i)).size===1;return(i,d)=>(S(),R(Ae,null,{default:s(()=>[l(re,{class:"d-flex justify-end"},{default:s(()=>[l(B,{variant:"text",icon:"mdi-close",class:"close-btn border",onClick:d[0]||(d[0]=u=>i.$emit("close"))})]),_:1}),l(re,null,{default:s(()=>[ee("h3",ol,E(i.$t("editDrawer.customOptions")),1),l(ne,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t("editDrawer.chartTitle")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[l(X,{density:"compact",variant:"outlined","model-value":m(a).dashboard.charts[e.indexOfChart].chartTitle,onChange:d[1]||(d[1]=u=>m(a).editChartTitle(e.indexOfChart,u.target.value))},null,8,["model-value"])]),_:1})]),_:1}),l(ne,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t("editDrawer.chartPosX")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[J(l(X,{suffix:"grid",density:"compact",variant:"outlined",placeholder:"grid","model-value":m(a).dashboard.charts[e.indexOfChart].chartPosX,onChange:d[2]||(d[2]=u=>m(a).moveChart(e.indexOfChart,u.target.value*1,m(a).dashboard.charts[e.indexOfChart].chartPosY))},null,8,["model-value"]),[[m(Q),r.value]])]),_:1})]),_:1}),l(ne,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t("editDrawer.chartPosY")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[J(l(X,{density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":m(a).dashboard.charts[e.indexOfChart].chartPosY,onChange:d[3]||(d[3]=u=>m(a).moveChart(e.indexOfChart,m(a).dashboard.charts[e.indexOfChart].chartPosX,u.target.value*1))},null,8,["model-value"]),[[m(Q),n.value]])]),_:1})]),_:1}),l(ne,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t("editDrawer.chartWidth")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[J((S(),R(X,{key:V.value,density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":m(a).dashboard.charts[e.indexOfChart].chartWidth,onChange:d[4]||(d[4]=u=>U(e.indexOfChart,u.target.value*1,m(a).dashboard.charts[e.indexOfChart].chartHeight))},null,8,["model-value"])),[[m(Q),o.value]])]),_:1})]),_:1}),l(ne,null,{default:s(()=>[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t("editDrawer.chartHeight")),1)]),_:1}),l(z,{cols:"7",class:"py-0"},{default:s(()=>[J((S(),R(X,{key:V.value,density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid","model-value":m(a).dashboard.charts[e.indexOfChart].chartHeight,onChange:d[5]||(d[5]=u=>U(e.indexOfChart,m(a).dashboard.charts[e.indexOfChart].chartWidth,u.target.value*1))},null,8,["model-value"])),[[m(Q),h.value]])]),_:1})]),_:1})]),_:1}),(S(!0),Y(L,null,ae(m(a).dashboard.charts[e.indexOfChart].chartOption,(u,C)=>(S(),R(re,{key:C,class:"border"},{default:s(()=>[ee("h3",il,E(i.$t(`editDrawer.${C}`)),1),(S(!0),Y(L,null,ae(u,(p,f)=>(S(),R(ne,{key:f},{default:s(()=>[typeof p!="object"?(S(),Y(L,{key:0},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t(`editDrawer.${f}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0"},{default:s(()=>[typeof p=="boolean"?(S(),R(Ee,{key:0,modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,color:"primary",label:`${u[f]}`,"hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"])):typeof p=="number"?J((S(),R(X,{key:1,"model-value":u[f],density:"compact",variant:"outlined",placeholder:"grid",suffix:"grid",onChange:x=>H(e.indexOfChart,C,f,x.target.value*1)},null,8,["model-value","onChange"])),[[m(Q),b.value]]):p[0]==="#"?J((S(),R(X,{key:V.value,"model-value":u[f],class:"pa-0 ma-0",variant:"outlined",density:"compact",placeholder:"#00000000",onChange:x=>F(e.indexOfChart,C,f,x.target.value)},{"append-inner":s(()=>[l(ue,{"close-on-content-click":!1},{activator:s(({props:x})=>[ee("div",te({style:{backgroundColor:u[f],cursor:"pointer",height:"1.5rem",width:"1.5rem"},ref_for:!0},x),null,16)]),default:s(()=>[l(ze,{modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,flat:"",modes:["rgba","hsla","hexa"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[m(Q),k.value]]):f==="indexAxis"?(S(),R(Ee,{key:3,modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,color:"primary",label:`${u[f]}-axis`,"true-value":"x","false-value":"y","hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"])):O.includes(p)?(S(),R(He,{key:4,modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,variant:"outlined",density:"compact",items:O},null,8,["modelValue","onUpdate:modelValue"])):A.includes(p)?(S(),R(He,{key:5,modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,variant:"outlined",density:"compact",items:A},null,8,["modelValue","onUpdate:modelValue"])):f==="innerText"?(S(),R(ha,{key:6,modelValue:u[f],"onUpdate:modelValue":x=>u[f]=x,class:"text-body border mb-7",spellcheck:"false",variant:"plain","auto-grow":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])):ca("",!0)]),_:2},1024)],64)):Array.isArray(p)?(S(),Y(L,{key:1},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t(`editDrawer.${f}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0 d-flex"},{default:s(()=>[J((S(),R(X,{key:V.value,density:"compact",variant:"outlined","model-value":T(p)?Object.values(p)[0]:"mixed",onChange:x=>D(e.indexOfChart,C,f,x.target.value)},{"append-inner":s(()=>[l(ue,{"close-on-content-click":!1,width:"200"},{activator:s(({props:x})=>[l(B,te({icon:"mdi-arrow-expand-all",variant:"text",ref_for:!0},x,{class:"expend-btn border"}),null,16)]),default:s(()=>[l(Oe,null,{default:s(()=>[l($e,{class:"d-flex align-center justify-space-between"},{default:s(()=>[_(E(i.$t(`editDrawer.${f}`))+" ",1),l(B,{class:"expend-btn border",variant:"text",icon:"mdi-plus",onClick:x=>m(a).insertChartSubOption(e.indexOfChart,C,f)},null,8,["onClick"])]),_:2},1024),l(Pe,null,{default:s(()=>[(S(!0),Y(L,null,ae(p,(x,q)=>J((S(),R(X,{key:V.value+q,"model-value":x,class:"pa-0 ma-0",variant:"outlined",density:"compact",placeholder:"#00000000",onChange:Z=>v(e.indexOfChart,C,f,q,Z.target.value)},{"prepend-inner":s(()=>[l(B,{class:"expend-btn border",variant:"text",icon:"mdi-minus",onClick:Z=>m(a).removeChartSubOption(e.indexOfChart,C,f,q)},null,8,["onClick"])]),"append-inner":s(()=>[l(ue,{"close-on-content-click":!1},{activator:s(({props:Z})=>[ee("div",te({style:{backgroundColor:x,cursor:"pointer",height:"1.5rem",width:"1.5rem"},ref_for:!0},Z),null,16)]),default:s(()=>[l(ze,{modelValue:p[q],"onUpdate:modelValue":Z=>p[q]=Z,flat:"",modes:["rgba","hsla","hexa"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[m(Q),k.value]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[m(Q),M.value]])]),_:2},1024)],64)):(S(),Y(L,{key:2},[l(z,{cols:"5",class:"d-flex justify-start align-center py-0 pe-0"},{default:s(()=>[_(E(i.$t(`editDrawer.${f}`)),1)]),_:2},1024),l(z,{cols:"7",class:"py-0 d-flex"},{default:s(()=>[J((S(),R(X,{density:"compact",variant:"outlined","model-value":T(p)?Object.values(p)[0]:"mixed",onChange:x=>c(e.indexOfChart,C,f,x.target.value*1)},{"append-inner":s(()=>[l(ue,{"close-on-content-click":!1},{activator:s(({props:x})=>[l(B,te({icon:"mdi-arrow-expand-all",variant:"text",ref_for:!0},x,{class:"expend-btn border"}),null,16)]),default:s(()=>[l(Oe,null,{default:s(()=>[l($e,null,{default:s(()=>[_(E(i.$t(`editDrawer.${f}`)),1)]),_:2},1024),l(Pe,{class:"d-flex"},{default:s(()=>[(S(!0),Y(L,null,ae(p,(x,q)=>J((S(),R(X,{key:x,"model-value":x,variant:"outlined",class:"mx-1",label:i.$t(`editDrawer.${q}`),density:"compact",onChange:Z=>I(e.indexOfChart,C,f,q,Z.target.value*1)},null,8,["model-value","label","onChange"])),[[m(Q),b.value]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model-value","onChange"])),[[m(Q),g.value]])]),_:2},1024)],64))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}))}},ul=da(dl,[["__scopeId","data-v-94af0b64"]]),cl=["title"],hl=["title"],fl={class:"text-center"},ga={__name:"dashboard.[id]",setup(e,{expose:a}){const t=ua(),{apiAuth:r}=et(),{t:n}=Za(),o=Ja(),h=G({indexOfChart:null,isOpen:!1}),b=y=>{h.value.indexOfChart=y,h.value.isOpen=!0},g=()=>{h.value.isOpen=!1,h.value.indexOfChart=null},k=G([{text:"dataChart",menus:[{isOpen:!1,text:"barChart",icon:"mdi-chart-bar",useVarsNum:2},{isOpen:!1,text:"histogram",icon:"mdi-chart-histogram",useVarsNum:2},{isOpen:!1,text:"lineChart",icon:"mdi-chart-line",useVarsNum:2},{isOpen:!1,text:"areaChart",icon:"mdi-chart-areaspline-variant",useVarsNum:2},{isOpen:!1,text:"scatterChart",icon:"mdi-chart-scatter-plot",useVarsNum:2},{isOpen:!1,text:"bubbleChart",icon:"mdi-chart-bubble",useVarsNum:3},{isOpen:!1,text:"pieChart",icon:"mdi-chart-pie",useVarsNum:2},{isOpen:!1,text:"donutChart",icon:"mdi-chart-donut",useVarsNum:2},{isOpen:!1,text:"polarAreaChart",icon:"mdi-chart-donut-variant",useVarsNum:2},{isOpen:!1,text:"radarChart",icon:"mdi-radar",useVarsNum:2}]},{text:"statistics",menus:[{isOpen:!1,text:"mean",icon:"",useVarsNum:1},{isOpen:!1,text:"median",icon:"",useVarsNum:1},{isOpen:!1,text:"mode",icon:"",useVarsNum:1},{isOpen:!1,text:"range",icon:"",useVarsNum:1},{isOpen:!1,text:"IQR",icon:"",useVarsNum:1},{isOpen:!1,text:"variance",icon:"",useVarsNum:1},{isOpen:!1,text:"standardDeviation",icon:"",useVarsNum:1}]},{text:"dataFilter",menus:[{isOpen:!1,text:"categoryFilter",icon:"mdi-filter-settings",useVarsNum:1},{isOpen:!1,text:"rangeFilter",icon:"mdi-filter",useVarsNum:1}]},{text:"textAndShape",menus:[{isOpen:!1,text:"textbox",icon:"mdi-text",useVarsNum:0},{isOpen:!1,text:"rectangle",icon:"mdi-rectangle",useVarsNum:0},{isOpen:!1,text:"circle",icon:"mdi-circle",useVarsNum:0},{isOpen:!1,text:"triangle",icon:"mdi-triangle",useVarsNum:0}]}]),M=G(!1),V=()=>{v.value.value=t.dashboard.dashboardName,D.value.value=t.dashboard.dashboardInfo,O.value.value=t.dashboard.public,M.value=!0},U=()=>{M.value=!1,c()},H=Be({dashboardName:he().required(n("api.dashboardNameRequired")),dashboardInfo:he(),public:lt()}),{handleSubmit:F,isSubmitting:I,resetForm:c}=Le({validationSchema:H}),v=de("dashboardName"),D=de("dashboardInfo"),O=de("public"),A=F(async y=>{var P,w;try{const N=new FormData;N.append("dashboardName",y.dashboardName),N.append("dashboardInfo",y.dashboardInfo),N.append("public",y.public),await r.patch(`/dashboard/${t.dashboard._id}`,N),t.dashboard.dashboardName=y.dashboardName,t.dashboard.dashboardInfo=y.dashboardInfo,t.dashboard.public=y.public,o({text:n("editDashboard.saveSuccess"),snackbarProps:{color:"green"}}),U()}catch(N){console.log(N),o({text:n("api."+((w=(P=N==null?void 0:N.response)==null?void 0:P.data)==null?void 0:w.message)||"unknownError"),snackbarProps:{color:"red"}})}}),T=Be({category:he().required(n("api.chartCategoryRequired")).oneOf(["barChart","histogram","lineChart","areaChart","scatterChart","bubbleChart","pieChart","donutChart","polarAreaChart","radarChart","mean","median","mode","range","IQR","variance","standardDeviation","categoryFilter","rangeFilter","textbox","rectangle","circle","triangle"],n("api.chartCategoryInvalid")),chartTitle:he(),useVariables:rt().of(he().notOneOf([""],n("api.useVariablesRequired")))}),{handleSubmit:i,isSubmitting:d,resetForm:u}=Le({validationSchema:T,initialValues:{useVariables:["","",""]}}),C=de("category"),p=de("chartTitle"),f=de("useVariables"),x=async(y,P,w)=>{C.value.value=y;for(let N=k.value[P].menus[w].useVarsNum;N<f.value.value.length;N++)f.value.value[N]="notUse";p.value.value||(p.value.value=y);try{await i(N=>{const $={category:N.category,chartTitle:N.chartTitle,chartPosX:0,chartPosY:0,chartWidth:le.x/2,chartHeight:le.y/2,useVariables:[].concat(N.useVariables)};t.newChart($),k.value[P].menus[w].isOpen=!1,u()})()}catch(N){console.log(N)}},q=async()=>{var y,P;t.saveLoading=!0;try{(await ht(ve.value,{allowTaint:!0,logging:!1,scale:1})).toBlob(async N=>{const $=new File([N],"thumbnail.png",{type:"image/png"}),K=new FormData;K.append("image",$),K.append("backgroundColor",t.dashboard.backgroundColor),K.append("charts",JSON.stringify(t.dashboard.charts)),await r.patch(`/dashboard/${t.dashboard._id}`,K),o({text:n("editDashboard.saveSuccess"),snackbarProps:{color:"green"}}),t.chartsChanged=!1,t.saveLoading=!1})}catch(w){console.log(w),o({text:n("api."+((P=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:P.message)||"unknownError"),snackbarProps:{color:"red"}}),t.saveLoading=!1}},Z=y=>{g(),t.deleteChart(y)},ve=G(null),pe=G(0),ke=G(0),va=new ResizeObserver(y=>{for(const P of y)pe.value=P.contentBoxSize[0].inlineSize,ke.value=P.contentBoxSize[0].blockSize});ea(()=>{va.observe(ve.value,{box:"content-box"})});const le={x:96,y:54};return a({area:ve}),(y,P)=>(S(),Y(L,null,[l(Xe,{modelValue:m(t).drawer,"onUpdate:modelValue":P[1]||(P[1]=w=>m(t).drawer=w),width:"200",permanent:!1},{default:s(()=>[l(Ae,null,{default:s(()=>[l(re),l(Ve),(S(!0),Y(L,null,ae(k.value,(w,N)=>(S(),R(ct,{key:w,class:"text-center",fluid:""},{activator:s(({props:$})=>[l(re,te({class:"user-select-none",ref_for:!0},$,{title:y.$t("editDashboard."+w.text)}),null,16,["title"]),l(Ve)]),default:s(()=>[w.text!=="textAndShape"?(S(!0),Y(L,{key:0},ae(w.menus,($,K)=>(S(),R(ue,{key:$,modelValue:$.isOpen,"onUpdate:modelValue":W=>$.isOpen=W,"close-on-content-click":!1,location:"end"},{activator:s(({props:W})=>[l(re,te({"append-icon":"mdi-plus",class:"user-select-none",ref_for:!0},W,{onClick:m(u)}),at({default:s(()=>[ee("p",{title:y.$t("editDashboard."+$.text),style:{"white-space":"nowrap"}},E(y.$t("editDashboard."+$.text)),9,cl)]),_:2},[$.icon?{name:"prepend",fn:s(()=>[l(Se,{icon:$.icon,color:"primary"},null,8,["icon"])]),key:"0"}:void 0]),1040,["onClick"])]),default:s(()=>[l(Ye,{disabled:m(d),onSubmit:Te(W=>x($.text,N,K),["prevent"])},{default:s(()=>[l(Oe,{width:"300"},{default:s(()=>[l(Ae,null,{default:s(()=>[l(re,{title:y.$t("editDashboard."+$.text),"prepend-icon":$.icon},null,8,["title","prepend-icon"])]),_:2},1024),l(Ve),l(Pe,null,{default:s(()=>[l(X,{modelValue:m(p).value.value,"onUpdate:modelValue":P[0]||(P[0]=W=>m(p).value.value=W),label:y.$t("editDashboard.chartTitle"),"error-messages":m(p).errorMessage.value,variant:"outlined"},null,8,["modelValue","label","error-messages"]),(S(!0),Y(L,null,ae($.useVarsNum,W=>(S(),R(He,{key:W,modelValue:m(f).value.value[W-1],"onUpdate:modelValue":pa=>m(f).value.value[W-1]=pa,items:m(t).dataVariables,label:y.$t(`editDashboard.variables${W}`),"error-messages":m(f).errorMessage.value,variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","items","label","error-messages"]))),128))]),_:2},1024),l(je,null,{default:s(()=>[l(tt),l(B,{variant:"text",onClick:W=>$.isOpen=!1},{default:s(()=>[_(E(y.$t("editDashboard.cancel")),1)]),_:2},1032,["onClick"]),l(B,{type:"submit",color:"primary",variant:"flat",loading:m(d)},{default:s(()=>[_(E(y.$t("editDashboard.new")),1)]),_:1},8,["loading"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled","onSubmit"])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128)):(S(!0),Y(L,{key:1},ae(w.menus,($,K)=>(S(),R(re,{key:K,"append-icon":"mdi-plus",class:"user-select-none",disabled:m(d),onClick:W=>x($.text,N,K)},{prepend:s(()=>[l(Se,{icon:$.icon,color:"primary"},null,8,["icon"])]),default:s(()=>[ee("p",{title:y.$t("editDashboard."+$.text),style:{"white-space":"nowrap"}},E(y.$t("editDashboard."+$.text)),9,hl)]),_:2},1032,["disabled","onClick"]))),128)),l(Ve)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),l(Xe,{modelValue:h.value.isOpen,"onUpdate:modelValue":P[2]||(P[2]=w=>h.value.isOpen=w),permanent:!0,location:"right",width:"300"},{default:s(()=>[h.value.isOpen&&m(t).dashboard.charts?(S(),R(ul,{key:0,"index-of-chart":h.value.indexOfChart,"grid-width":pe.value/le.x,"grid-height":ke.value/le.y,"grid-size-divisor-x":le.x,"grid-size-divisor-y":le.y,onClose:g},null,8,["index-of-chart","grid-width","grid-height","grid-size-divisor-x","grid-size-divisor-y"])):ca("",!0)]),_:1},8,["modelValue"]),l(ft,{fluid:""},{default:s(()=>[l(ne,null,{default:s(()=>[l(z,{cols:"12"},{default:s(()=>[ee("h1",fl,E(y.$t("editor.editDashboard")),1)]),_:1}),l(z,{cols:"5"},{default:s(()=>[l(B,{"prepend-icon":"mdi-pencil",onClick:V},{default:s(()=>[_(E(y.$t("editDashboard.edit")),1)]),_:1})]),_:1}),l(z,{cols:"4",class:"ms-auto d-flex justify-end align-center"},{default:s(()=>[l(ue,{"close-on-content-click":!1},{activator:s(({props:w})=>[l(B,te({variant:"flat",color:m(t).dashboard.backgroundColor},w,{class:"d-flex align-center justify-center",style:{backgroundColor:m(t).dashboard.backgroundColor,cursor:"pointer",width:"120px",height:"36px",outline:"1px solid rgba(0, 0, 0, 0.12)",marginRight:"1rem",borderRadius:"2px",fontSize:"14px"}}),{default:s(()=>[_(E(y.$t("editDashboard.backgroundColor")),1)]),_:2},1040,["color","style"])]),default:s(()=>[l(ze,{modelValue:m(t).dashboard.backgroundColor,"onUpdate:modelValue":P[3]||(P[3]=w=>m(t).dashboard.backgroundColor=w),flat:"",modes:["rgb","hsl","hex"]},null,8,["modelValue"])]),_:1}),l(B,{color:"primary",loading:m(t).saveLoading,onClick:q},{default:s(()=>[_(E(y.$t("editDashboard.save")),1)]),_:1},8,["loading"])]),_:1}),l(z,{cols:"12"},{default:s(()=>[ee("div",{id:"area",ref_key:"area",ref:ve,style:Qa({backgroundColor:m(t).dashboard.backgroundColor})},[(S(!0),Y(L,null,ae(m(t).dashboard.charts,(w,N)=>(S(),R(ut,{key:w,"container-width":pe.value,"container-height":ke.value,"index-of-chart":N,"grid-width":pe.value/le.x,"grid-height":ke.value/le.y,"read-only":!1,onEdit:$=>b(N),onDelete:$=>Z(N)},null,8,["container-width","container-height","index-of-chart","grid-width","grid-height","onEdit","onDelete"]))),128))],4)]),_:1})]),_:1})]),_:1}),l(Ka,{modelValue:M.value,"onUpdate:modelValue":P[7]||(P[7]=w=>M.value=w),width:"600"},{default:s(()=>[l(Ye,{disabled:m(I),onSubmit:Te(m(A),["prevent"])},{default:s(()=>[l(Oe,null,{default:s(()=>[l($e,{class:"d-flex align-center"},{default:s(()=>[l(Se,{icon:"mdi-pencil",class:"me-1"}),ee("span",null,E(y.$t("editDashboard.edit")),1)]),_:1}),l(Pe,null,{default:s(()=>[l(X,{modelValue:m(v).value.value,"onUpdate:modelValue":P[4]||(P[4]=w=>m(v).value.value=w),"error-messages":m(v).errorMessage.value,label:y.$t("editDashboard.dashboardName"),variant:"outlined"},null,8,["modelValue","error-messages","label"]),l(ha,{modelValue:m(D).value.value,"onUpdate:modelValue":P[5]||(P[5]=w=>m(D).value.value=w),"error-messages":m(D).errorMessage.value,label:y.$t("editDashboard.dashboardInfo"),variant:"outlined"},null,8,["modelValue","error-messages","label"]),l(Ee,{modelValue:m(O).value.value,"onUpdate:modelValue":P[6]||(P[6]=w=>m(O).value.value=w),color:"primary",label:y.$t("editDashboard.public")},null,8,["modelValue","label"])]),_:1}),l(je,null,{default:s(()=>[l(B,{onClick:U},{default:s(()=>[_(E(y.$t("editDashboard.cancel")),1)]),_:1}),l(B,{color:"primary",variant:"flat",type:"submit",loading:m(I)},{default:s(()=>[_(E(y.$t("editDashboard.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1},8,["modelValue"])],64))}};typeof We=="function"&&We(ga);const Al=da(ga,[["__scopeId","data-v-1194fb7c"]]);export{Al as default};
