import{_ as L,S as N,d as h,r as d,o as i,n as $,w as t,g as r,ar as S,ao as T,al as U,V as c,ai as m,U as v,t as y,f as V,l as k,F as q,k as j,W as b,Y as I}from"./index-DZJqTOcC.js";import{V as K,D as O}from"./DashboardCard-CrL7HPmN.js";import{b as x}from"./route-block-B_A1xBdJ.js";import{a as o,V as C}from"./VRow-z6NbZb3D.js";import{V as R}from"./VPagination-tTNxON5V.js";import{V as z}from"./VContainer-D-5Ubu1y.js";import{V as E}from"./VHover-DaYKPa71.js";const w=12,B={__name:"explore",setup(H){const{api:D}=I(),s=N(),P=h(()=>p.value.length===0),u=d(""),n=h(()=>s.query.sort==="createdAt"?1:s.query.sort==="like"?2:0),p=d([]),g=d(1),f=d(s.query.page*1||1);return(async()=>{try{const{data:e}=await D.get(`/dashboard/public?page=${s.query.page||1}&limit=${w}&sort=${s.query.sort||"view"}&search=${s.query.search||""}`);p.value=e.result,g.value=Math.ceil(e.numsOfData/w)}catch(e){console.log(e)}})(),(e,a)=>(i(),$(z,null,{default:t(()=>[r(C,null,{default:t(()=>[r(o,{cols:"12",class:"d-flex justify-center align-center"},{default:t(()=>[r(o,{cols:"6"},{default:t(()=>[r(S,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=l=>u.value=l),variant:"outlined",density:"compact","append-inner-icon":"mdi-magnify",color:"secondary",placeholder:e.$t("explore.titleOrAuthor"),"onClick:appendInner":a[1]||(a[1]=l=>e.$router.push({path:"/explore",query:{search:u.value||void 0}})),onKeydown:a[2]||(a[2]=T(l=>e.$router.push({path:"/explore",query:{search:u.value||void 0}}),["enter"]))},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),r(o,{cols:"12",class:"d-flex justify-end mb-0 pb-0"},{default:t(()=>[r(U,{"model-value":n.value},{default:t(()=>[r(c,{class:m(["h-75 underline-btn",{"text-primary":n.value===0}]),variant:"text",onClick:a[3]||(a[3]=l=>e.$router.push({path:"/explore",query:{sort:"view",search:e.$route.query.search||void 0}}))},{default:t(()=>[v(y(e.$t("explore.popular")),1)]),_:1},8,["class"]),r(c,{class:m(["h-75 underline-btn",{"text-primary":n.value===1}]),variant:"text",onClick:a[4]||(a[4]=l=>e.$router.push({path:"/explore",query:{sort:"createdAt",search:e.$route.query.search||void 0}}))},{default:t(()=>[v(y(e.$t("explore.new")),1)]),_:1},8,["class"]),r(c,{class:m(["h-75 underline-btn",{"text-primary":n.value===2}]),variant:"text",onClick:a[5]||(a[5]=l=>e.$router.push({path:"/explore",query:{sort:"like",search:e.$route.query.search||void 0}}))},{default:t(()=>[v(y(e.$t("explore.good")),1)]),_:1},8,["class"])]),_:1},8,["model-value"])]),_:1}),r(o,{cols:"12"},{default:t(()=>[r(C,null,{default:t(()=>[P.value?(i(),V(q,{key:0},k(12,l=>r(o,{key:l,class:"v-col-12 v-col-sm-6 v-col-md-4 v-col-lg-3"},{default:t(()=>[r(K,{type:"image, article"})]),_:2},1024)),64)):(i(!0),V(q,{key:1},k(p.value,l=>(i(),$(o,{key:l._id,class:"v-col-12 v-col-sm-6 v-col-md-4 v-col-lg-3"},{default:t(()=>[r(E,null,{default:t(({isHovering:A,props:F})=>[j("div",b({ref_for:!0},F,{class:"bg-secondary rounded"}),[r(O,b({ref_for:!0},l,{"read-only":!0,class:{"dashboard-hover":!!A},style:{transition:"0.2s"}}),null,16,["class"])],16)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),r(o,{cols:"12"},{default:t(()=>[r(R,{modelValue:f.value,"onUpdate:modelValue":a[6]||(a[6]=l=>f.value=l),length:g.value,onClick:a[7]||(a[7]=l=>e.$router.push({path:"/explore",query:{page:f.value,sort:e.$route.query.sort||void 0,search:e.$route.query.search||void 0}}))},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof x=="function"&&x(B);const _=L(B,[["__scopeId","data-v-c24d0904"]]);export{_ as default};
