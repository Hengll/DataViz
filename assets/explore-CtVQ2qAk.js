import{_ as P,S as A,d as $,r as i,o as u,n as p,w as a,g as t,aq as j,an as F,aj as L,V as m,ai as v,U as y,t as g,f as N,l as S,F as T,k as U,W as V,Y as I}from"./index-wWJ7hh0W.js";import{V as K,D as O}from"./DashboardCard-Crz66Ydt.js";import{b as q}from"./route-block-B_A1xBdJ.js";import{a as s,V as k}from"./VRow-yYcUYgdG.js";import{V as R}from"./VPagination-D_6R4wLP.js";import{V as z}from"./VContainer-rdz3cHu4.js";import{V as E}from"./VHover-BnFqzFsS.js";const b=12,x={__name:"explore",setup(H){const{api:C}=I(),o=A(),w=$(()=>f.value.length===0),n=i(""),d=$(()=>o.query.sort==="createdAt"?1:o.query.sort==="like"?2:0),f=i([]),h=i(1),c=i(o.query.page*1||1);return(async()=>{try{const{data:e}=await C.get(`/dashboard/public?page=${o.query.page||1}&limit=${b}&sort=${o.query.sort||"view"}&search=${o.query.search||""}`);f.value=e.result,h.value=Math.ceil(e.numsOfData/b)}catch(e){console.log(e)}})(),(e,r)=>(u(),p(z,null,{default:a(()=>[t(k,null,{default:a(()=>[t(s,{cols:"12",class:"d-flex justify-center align-center"},{default:a(()=>[t(s,{cols:"6"},{default:a(()=>[t(j,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=l=>n.value=l),variant:"outlined",density:"compact","append-inner-icon":"mdi-magnify",color:"secondary",placeholder:e.$t("explore.titleOrAuthor"),"onClick:appendInner":r[1]||(r[1]=l=>e.$router.push({path:"/explore",query:{search:n.value||void 0}})),onKeydown:r[2]||(r[2]=F(l=>e.$router.push({path:"/explore",query:{search:n.value||void 0}}),["enter"]))},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),t(s,{cols:"12",class:"d-flex justify-end mb-0 pb-0"},{default:a(()=>[t(L,{"model-value":d.value},{default:a(()=>[t(m,{class:v(["h-75 underline-btn",{"text-primary":d.value===0}]),variant:"text",onClick:r[3]||(r[3]=l=>e.$router.push({path:"/explore",query:{sort:"view",search:e.$route.query.search||void 0}}))},{default:a(()=>[y(g(e.$t("explore.popular")),1)]),_:1},8,["class"]),t(m,{class:v(["h-75 underline-btn",{"text-primary":d.value===1}]),variant:"text",onClick:r[4]||(r[4]=l=>e.$router.push({path:"/explore",query:{sort:"createdAt",search:e.$route.query.search||void 0}}))},{default:a(()=>[y(g(e.$t("explore.new")),1)]),_:1},8,["class"]),t(m,{class:v(["h-75 underline-btn",{"text-primary":d.value===2}]),variant:"text",onClick:r[5]||(r[5]=l=>e.$router.push({path:"/explore",query:{sort:"like",search:e.$route.query.search||void 0}}))},{default:a(()=>[y(g(e.$t("explore.good")),1)]),_:1},8,["class"])]),_:1},8,["model-value"])]),_:1}),t(s,{cols:"12"},{default:a(()=>[t(k,null,{default:a(()=>[(u(!0),N(T,null,S(f.value,l=>(u(),p(s,{key:l._id,class:"v-col-12 v-col-sm-6 v-col-md-4 v-col-lg-3"},{default:a(()=>[t(E,null,{default:a(({isHovering:B,props:D})=>[U("div",V({ref_for:!0},D,{class:"bg-secondary rounded"}),[w.value?(u(),p(K,{key:0,type:"image, article"})):(u(),p(O,V({key:1,ref_for:!0},l,{"read-only":!0,class:{"dashboard-hover":!!B},style:{transition:"0.2s"}}),null,16,["class"]))],16)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(s,{cols:"12"},{default:a(()=>[t(R,{modelValue:c.value,"onUpdate:modelValue":r[6]||(r[6]=l=>c.value=l),length:h.value,onClick:r[7]||(r[7]=l=>e.$router.push({path:"/explore",query:{page:c.value,sort:e.$route.query.sort||void 0,search:e.$route.query.search||void 0}}))},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof q=="function"&&q(x);const _=P(x,[["__scopeId","data-v-f6080f34"]]);export{_ as default};
